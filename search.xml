<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title></title>
    <url>%2F2019%2F07%2F21%2F2018-05-16-Mysql%E5%88%86%E5%BA%93%E5%88%86%E8%A1%A8%E4%B8%AD%E9%97%B4%E4%BB%B6%2F</url>
    <content type="text"><![CDATA[&lt;!DOCTYPE html&gt; zhangjinmiao.github.io/2018-05-16-Mysqlåˆ†åº“åˆ†è¡¨ä¸­é—´ä»¶.md at 444c91a5a1049ef043d2321f32c44628b7004182 Â· zhangjinmiao/zhangjinmiao.github.io Skip to content In this repository All GitHub â†µ Jump to â†µ No suggested jump to results In this repository All GitHub â†µ Jump to â†µ In this repository All GitHub â†µ Jump to â†µ Dashboard Pull requests Issues Marketplace Explore LouisTuo Sign out zhangjinmiao / zhangjinmiao.github.io New repository Import repository New gist New organization This repository New issue Signed in as LouisTuo ðŸŽ¯ Focusing Edit status ðŸŽ¯ ðŸŽ¯ Could not update your status, please try again. 80 remaining Suggestions: ðŸŒ´ On vacation ðŸ¤’ Out sick ðŸ  Working from home ðŸŽ¯ Focusing Busy When others mention you, assign you, or request your review, GitHub will let them know that you have limited availability. Clear status Never Never Keep this status until you clear your status or edit your status. in 30 minutes in 1 hour in 4 hours today this week Set status Clear status Your profile Your repositories Your projects Your stars Your gists Help Settings Sign out Watch Notifications Not watching Be notified only when participating or @mentioned. Watch Releases only Be notified of new releases, and when participating or @mentioned. Unwatch releases Watching Be notified of all conversations. Unwatch Ignoring Never be notified. Stop ignoring 1 Unstar 0 Star 0 Fork 0 zhangjinmiao/zhangjinmiao.github.io Code Issues 0 Pull requests 0 Projects 0 Wiki Security Insights Code Issues 0 Pull requests 0 Projects 0 Wiki Security Pulse Community Permalink Tree: 444c91a5a1 Find file Copy path zhangjinmiao.github.io/_posts/mysql/2018-05-16-Mysqlåˆ†åº“åˆ†è¡¨ä¸­é—´ä»¶.md Find file Copy path Fetching contributors&hellip; Cannot retrieve contributors at this time 27 lines (18 sloc) 637 Bytes Raw Blame History layout title categories description keywords post MySQL åˆ†åº“åˆ†è¡¨ä¸­é—´ä»¶ MySQL mysql mysql, åˆ†åº“åˆ†è¡¨ æ•°æ®åº“ä¸­é—´ä»¶é‡‘å±±çš„ kingshardç™¾åº¦çš„ heisenberg58 åŒåŸŽçš„ Oceanus360 çš„ Atlasç¾Žå›¢ç‚¹è¯„çš„ DBProxyMycatmysql-proxyåˆ†å¸ƒå¼æ•°æ®åº“TiDB Go &copy; 2019 GitHub, Inc. Terms Privacy Security Status Help Contact GitHub Pricing API Training Blog About You canâ€™t perform that action at this time. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session.]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F2019%2F07%2F21%2F2018-04-24-58%E5%88%B0%E5%AE%B6MySQL%E5%86%9B%E8%A7%84%E5%8D%87%E7%BA%A7%E7%89%88%2F</url>
    <content type="text"><![CDATA[&lt;!DOCTYPE html&gt; zhangjinmiao.github.io/2018-04-24-58åˆ°å®¶MySQLå†›è§„å‡çº§ç‰ˆ.md at 444c91a5a1049ef043d2321f32c44628b7004182 Â· zhangjinmiao/zhangjinmiao.github.io Skip to content In this repository All GitHub â†µ Jump to â†µ No suggested jump to results In this repository All GitHub â†µ Jump to â†µ In this repository All GitHub â†µ Jump to â†µ Dashboard Pull requests Issues Marketplace Explore LouisTuo Sign out zhangjinmiao / zhangjinmiao.github.io New repository Import repository New gist New organization This repository New issue Signed in as LouisTuo ðŸŽ¯ Focusing Edit status ðŸŽ¯ ðŸŽ¯ Could not update your status, please try again. 80 remaining Suggestions: ðŸŒ´ On vacation ðŸ¤’ Out sick ðŸ  Working from home ðŸŽ¯ Focusing Busy When others mention you, assign you, or request your review, GitHub will let them know that you have limited availability. Clear status Never Never Keep this status until you clear your status or edit your status. in 30 minutes in 1 hour in 4 hours today this week Set status Clear status Your profile Your repositories Your projects Your stars Your gists Help Settings Sign out Watch Notifications Not watching Be notified only when participating or @mentioned. Watch Releases only Be notified of new releases, and when participating or @mentioned. Unwatch releases Watching Be notified of all conversations. Unwatch Ignoring Never be notified. Stop ignoring 1 Unstar 0 Star 0 Fork 0 zhangjinmiao/zhangjinmiao.github.io Code Issues 0 Pull requests 0 Projects 0 Wiki Security Insights Code Issues 0 Pull requests 0 Projects 0 Wiki Security Pulse Community Permalink Tree: 444c91a5a1 Find file Copy path zhangjinmiao.github.io/_posts/mysql/2018-04-24-58åˆ°å®¶MySQLå†›è§„å‡çº§ç‰ˆ.md Find file Copy path zhangjinmiao guifan 444c91a Mar 23, 2019 1 contributor Users who have contributed to this file 214 lines (115 sloc) 5.36 KB Raw Blame History layout title categories description keywords post 58 åˆ°å®¶ MySQL å†›è§„å‡çº§ç‰ˆ MySQL mysql 58, mysql ä¸€ã€åŸºç¡€è§„èŒƒè¡¨å­˜å‚¨å¼•æ“Žå¿…é¡»ä½¿ç”¨ InnoDB è¡¨å­—ç¬¦é›†é»˜è®¤ä½¿ç”¨ utf8ï¼Œå¿…è¦æ—¶å€™ä½¿ç”¨ utf8mb4è§£è¯»ï¼šï¼ˆ1ï¼‰é€šç”¨ï¼Œæ— ä¹±ç é£Žé™©ï¼Œæ±‰å­— 3 å­—èŠ‚ï¼Œè‹±æ–‡ 1 å­—èŠ‚ï¼ˆ2ï¼‰utf8mb4 æ˜¯ utf8 çš„è¶…é›†ï¼Œæœ‰å­˜å‚¨ 4 å­—èŠ‚ä¾‹å¦‚è¡¨æƒ…ç¬¦å·æ—¶ï¼Œä½¿ç”¨å®ƒ ç¦æ­¢ä½¿ç”¨å­˜å‚¨è¿‡ç¨‹ï¼Œè§†å›¾ï¼Œè§¦å‘å™¨ï¼ŒEventè§£è¯»ï¼šï¼ˆ1ï¼‰å¯¹æ•°æ®åº“æ€§èƒ½å½±å“è¾ƒå¤§ï¼Œäº’è”ç½‘ä¸šåŠ¡ï¼Œèƒ½è®©ç«™ç‚¹å±‚å’ŒæœåŠ¡å±‚å¹²çš„äº‹æƒ…ï¼Œä¸è¦äº¤åˆ°æ•°æ®åº“å±‚ï¼ˆ2ï¼‰è°ƒè¯•ï¼ŒæŽ’é”™ï¼Œè¿ç§»éƒ½æ¯”è¾ƒå›°éš¾ï¼Œæ‰©å±•æ€§è¾ƒå·® ç¦æ­¢åœ¨æ•°æ®åº“ä¸­å­˜å‚¨å¤§æ–‡ä»¶ï¼Œä¾‹å¦‚ç…§ç‰‡ï¼Œå¯ä»¥å°†å¤§æ–‡ä»¶å­˜å‚¨åœ¨å¯¹è±¡å­˜å‚¨ç³»ç»Ÿï¼Œæ•°æ®åº“ä¸­å­˜å‚¨è·¯å¾„ç¦æ­¢åœ¨çº¿ä¸ŠçŽ¯å¢ƒåšæ•°æ®åº“åŽ‹åŠ›æµ‹è¯•æµ‹è¯•ï¼Œå¼€å‘ï¼Œçº¿ä¸Šæ•°æ®åº“çŽ¯å¢ƒå¿…é¡»éš”ç¦» äºŒã€å‘½åè§„èŒƒåº“åï¼Œè¡¨åï¼Œåˆ—åå¿…é¡»ç”¨å°å†™ï¼Œé‡‡ç”¨ä¸‹åˆ’çº¿åˆ†éš”è§£è¯»ï¼šabcï¼ŒAbcï¼ŒABC éƒ½æ˜¯ç»™è‡ªå·±åŸ‹å‘ åº“åï¼Œè¡¨åï¼Œåˆ—åå¿…é¡»è§åçŸ¥ä¹‰ï¼Œé•¿åº¦ä¸è¦è¶…è¿‡ 32 å­—ç¬¦è§£è¯»ï¼štmpï¼Œwushan è° TM çŸ¥é“è¿™äº›åº“æ˜¯å¹²å˜›çš„ åº“å¤‡ä»½å¿…é¡»ä»¥ bak ä¸ºå‰ç¼€ï¼Œä»¥æ—¥æœŸä¸ºåŽç¼€ä»Žåº“å¿…é¡»ä»¥-s ä¸ºåŽç¼€å¤‡åº“å¿…é¡»ä»¥-ss ä¸ºåŽç¼€ ä¸‰ã€è¡¨è®¾è®¡è§„èŒƒå•å®žä¾‹è¡¨ä¸ªæ•°å¿…é¡»æŽ§åˆ¶åœ¨ 2000 ä¸ªä»¥å†…å•è¡¨åˆ†è¡¨ä¸ªæ•°å¿…é¡»æŽ§åˆ¶åœ¨ 1024 ä¸ªä»¥å†…è¡¨å¿…é¡»æœ‰ä¸»é”®ï¼ŒæŽ¨èä½¿ç”¨ UNSIGNED æ•´æ•°ä¸ºä¸»é”®æ½œåœ¨å‘ï¼šåˆ é™¤æ— ä¸»é”®çš„è¡¨ï¼Œå¦‚æžœæ˜¯ row æ¨¡å¼çš„ä¸»ä»Žæž¶æž„ï¼Œä»Žåº“ä¼šæŒ‚ä½ ç¦æ­¢ä½¿ç”¨å¤–é”®ï¼Œå¦‚æžœè¦ä¿è¯å®Œæ•´æ€§ï¼Œåº”ç”±åº”ç”¨ç¨‹å¼å®žçŽ°è§£è¯»ï¼šå¤–é”®ä½¿å¾—è¡¨ä¹‹é—´ç›¸äº’è€¦åˆï¼Œå½±å“ update/delete ç­‰ SQL æ€§èƒ½ï¼Œæœ‰å¯èƒ½é€ æˆæ­»é”ï¼Œé«˜å¹¶å‘æƒ…å†µä¸‹å®¹æ˜“æˆä¸ºæ•°æ®åº“ç“¶é¢ˆ å»ºè®®å°†å¤§å­—æ®µï¼Œè®¿é—®é¢‘åº¦ä½Žçš„å­—æ®µæ‹†åˆ†åˆ°å•ç‹¬çš„è¡¨ä¸­å­˜å‚¨ï¼Œåˆ†ç¦»å†·çƒ­æ•°æ®è§£è¯»ï¼šå…·ä½“å‚åŠ ã€Šå¦‚ä½•å®žæ–½æ•°æ®åº“åž‚ç›´æ‹†åˆ†ã€‹ å››ã€åˆ—è®¾è®¡è§„èŒƒæ ¹æ®ä¸šåŠ¡åŒºåˆ†ä½¿ç”¨ tinyint/int/bigintï¼Œåˆ†åˆ«ä¼šå ç”¨ 1/4/8 å­—èŠ‚æ ¹æ®ä¸šåŠ¡åŒºåˆ†ä½¿ç”¨ char/varcharè§£è¯»ï¼šï¼ˆ1ï¼‰å­—æ®µé•¿åº¦å›ºå®šï¼Œæˆ–è€…é•¿åº¦è¿‘ä¼¼çš„ä¸šåŠ¡åœºæ™¯ï¼Œé€‚åˆä½¿ç”¨ charï¼Œèƒ½å¤Ÿå‡å°‘ç¢Žç‰‡ï¼ŒæŸ¥è¯¢æ€§èƒ½é«˜ï¼ˆ2ï¼‰å­—æ®µé•¿åº¦ç›¸å·®è¾ƒå¤§ï¼Œæˆ–è€…æ›´æ–°è¾ƒå°‘çš„ä¸šåŠ¡åœºæ™¯ï¼Œé€‚åˆä½¿ç”¨ varcharï¼Œèƒ½å¤Ÿå‡å°‘ç©ºé—´ æ ¹æ®ä¸šåŠ¡åŒºåˆ†ä½¿ç”¨ datetime/timestampè§£è¯»ï¼šå‰è€…å ç”¨ 5 ä¸ªå­—èŠ‚ï¼ŒåŽè€…å ç”¨ 4 ä¸ªå­—èŠ‚ï¼Œå­˜å‚¨å¹´ä½¿ç”¨ YEARï¼Œå­˜å‚¨æ—¥æœŸä½¿ç”¨ DATEï¼Œå­˜å‚¨æ—¶é—´ä½¿ç”¨ datetime å¿…é¡»æŠŠå­—æ®µå®šä¹‰ä¸º NOT NULL å¹¶è®¾é»˜è®¤å€¼è§£è¯»ï¼šï¼ˆ1ï¼‰NULL çš„åˆ—ä½¿ç”¨ç´¢å¼•ï¼Œç´¢å¼•ç»Ÿè®¡ï¼Œå€¼éƒ½æ›´åŠ å¤æ‚ï¼ŒMySQL æ›´éš¾ä¼˜åŒ–ï¼ˆ2ï¼‰NULL éœ€è¦æ›´å¤šçš„å­˜å‚¨ç©ºé—´ï¼ˆ3ï¼‰NULL åªèƒ½é‡‡ç”¨ IS NULL æˆ–è€… IS NOT NULLï¼Œè€Œåœ¨=/!=/in/not in æ—¶æœ‰å¤§å‘ ä½¿ç”¨ INT UNSIGNED å­˜å‚¨ IPv4ï¼Œä¸è¦ç”¨ char(15)ä½¿ç”¨ varchar(20)å­˜å‚¨æ‰‹æœºå·ï¼Œä¸è¦ä½¿ç”¨æ•´æ•°è§£è¯»ï¼šï¼ˆ1ï¼‰ç‰µæ‰¯åˆ°å›½å®¶ä»£å·ï¼Œå¯èƒ½å‡ºçŽ°+/-/()ç­‰å­—ç¬¦ï¼Œä¾‹å¦‚+86ï¼ˆ2ï¼‰æ‰‹æœºå·ä¸ä¼šç”¨æ¥åšæ•°å­¦è¿ç®—ï¼ˆ3ï¼‰varchar å¯ä»¥æ¨¡ç³ŠæŸ¥è¯¢ï¼Œä¾‹å¦‚ like â€˜138%â€™ ä½¿ç”¨ TINYINT æ¥ä»£æ›¿ ENUMè§£è¯»ï¼šENUM å¢žåŠ æ–°å€¼è¦è¿›è¡Œ DDL æ“ä½œ äº”ã€ç´¢å¼•è§„èŒƒå”¯ä¸€ç´¢å¼•ä½¿ç”¨ uniq_[å­—æ®µå]æ¥å‘½åéžå”¯ä¸€ç´¢å¼•ä½¿ç”¨ idx_[å­—æ®µå]æ¥å‘½åå•å¼ è¡¨ç´¢å¼•æ•°é‡å»ºè®®æŽ§åˆ¶åœ¨ 5 ä¸ªä»¥å†…è§£è¯»ï¼šï¼ˆ1ï¼‰äº’è”ç½‘é«˜å¹¶å‘ä¸šåŠ¡ï¼Œå¤ªå¤šç´¢å¼•ä¼šå½±å“å†™æ€§èƒ½ï¼ˆ2ï¼‰ç”Ÿæˆæ‰§è¡Œè®¡åˆ’æ—¶ï¼Œå¦‚æžœç´¢å¼•å¤ªå¤šï¼Œä¼šé™ä½Žæ€§èƒ½ï¼Œå¹¶å¯èƒ½å¯¼è‡´ MySQL é€‰æ‹©ä¸åˆ°æœ€ä¼˜ç´¢å¼•ï¼ˆ3ï¼‰å¼‚å¸¸å¤æ‚çš„æŸ¥è¯¢éœ€æ±‚ï¼Œå¯ä»¥é€‰æ‹© ES ç­‰æ›´ä¸ºé€‚åˆçš„æ–¹å¼å­˜å‚¨ ç»„åˆç´¢å¼•å­—æ®µæ•°ä¸å»ºè®®è¶…è¿‡ 5 ä¸ªè§£è¯»ï¼šå¦‚æžœ 5 ä¸ªå­—æ®µè¿˜ä¸èƒ½æžå¤§ç¼©å° row èŒƒå›´ï¼Œå…«æˆæ˜¯è®¾è®¡æœ‰é—®é¢˜ ä¸å»ºè®®åœ¨é¢‘ç¹æ›´æ–°çš„å­—æ®µä¸Šå»ºç«‹ç´¢å¼•éžå¿…è¦ä¸è¦è¿›è¡Œ JOIN æŸ¥è¯¢ï¼Œå¦‚æžœè¦è¿›è¡Œ JOIN æŸ¥è¯¢ï¼Œè¢« JOIN çš„å­—æ®µå¿…é¡»ç±»åž‹ç›¸åŒï¼Œå¹¶å»ºç«‹ç´¢å¼•è§£è¯»ï¼šè¸©è¿‡å› ä¸º JOIN å­—æ®µç±»åž‹ä¸ä¸€è‡´ï¼Œè€Œå¯¼è‡´å…¨è¡¨æ‰«æçš„å‘ä¹ˆï¼Ÿ ç†è§£ç»„åˆç´¢å¼•æœ€å·¦å‰ç¼€åŽŸåˆ™ï¼Œé¿å…é‡å¤å»ºè®¾ç´¢å¼•ï¼Œå¦‚æžœå»ºç«‹äº†(a,b,c)ï¼Œç›¸å½“äºŽå»ºç«‹äº†(a), (a,b), (a,b,c) å…­ã€SQL è§„èŒƒç¦æ­¢ä½¿ç”¨ select ï¼ŒåªèŽ·å–å¿…è¦å­—æ®µè§£è¯»ï¼šï¼ˆ1ï¼‰select ä¼šå¢žåŠ  cpu/io/å†…å­˜/å¸¦å®½çš„æ¶ˆè€—ï¼ˆ2ï¼‰æŒ‡å®šå­—æ®µèƒ½æœ‰æ•ˆåˆ©ç”¨ç´¢å¼•è¦†ç›–ï¼ˆ3ï¼‰æŒ‡å®šå­—æ®µæŸ¥è¯¢ï¼Œåœ¨è¡¨ç»“æž„å˜æ›´æ—¶ï¼Œèƒ½ä¿è¯å¯¹åº”ç”¨ç¨‹åºæ— å½±å“ insert å¿…é¡»æŒ‡å®šå­—æ®µï¼Œç¦æ­¢ä½¿ç”¨ insert into T values()è§£è¯»ï¼šæŒ‡å®šå­—æ®µæ’å…¥ï¼Œåœ¨è¡¨ç»“æž„å˜æ›´æ—¶ï¼Œèƒ½ä¿è¯å¯¹åº”ç”¨ç¨‹åºæ— å½±å“ éšå¼ç±»åž‹è½¬æ¢ä¼šä½¿ç´¢å¼•å¤±æ•ˆï¼Œå¯¼è‡´å…¨è¡¨æ‰«æ ç¦æ­¢åœ¨ where æ¡ä»¶åˆ—ä½¿ç”¨å‡½æ•°æˆ–è€…è¡¨è¾¾å¼è§£è¯»ï¼šå¯¼è‡´ä¸èƒ½å‘½ä¸­ç´¢å¼•ï¼Œå…¨è¡¨æ‰«æ ç¦æ­¢è´Ÿå‘æŸ¥è¯¢ä»¥åŠ%å¼€å¤´çš„æ¨¡ç³ŠæŸ¥è¯¢è§£è¯»ï¼šå¯¼è‡´ä¸èƒ½å‘½ä¸­ç´¢å¼•ï¼Œå…¨è¡¨æ‰«æ ç¦æ­¢å¤§è¡¨ JOIN å’Œå­æŸ¥è¯¢åŒä¸€ä¸ªå­—æ®µä¸Šçš„ OR å¿…é¡»æ”¹å†™é—® INï¼ŒIN çš„å€¼å¿…é¡»å°‘äºŽ 50 ä¸ªåº”ç”¨ç¨‹åºå¿…é¡»æ•èŽ· SQL å¼‚å¸¸è§£è¯»ï¼šæ–¹ä¾¿å®šä½çº¿ä¸Šé—®é¢˜è¯´æ˜Žï¼šæœ¬æ–‡è½¬è‡ªå…¬ä¼—å·â€œæž¶æž„å¸ˆä¹‹è·¯â€ï¼Œæ‰«æä¸‹é¢äºŒç»´ç å…³æ³¨æœ‰æ›´å¤šç²¾å½©å†…å®¹ã€‚ Go &copy; 2019 GitHub, Inc. Terms Privacy Security Status Help Contact GitHub Pricing API Training Blog About You canâ€™t perform that action at this time. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session.]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F2019%2F07%2F21%2F2018-04-24-21%E5%88%86%E9%92%9FMysql%E6%95%99%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[&lt;!DOCTYPE html&gt; zhangjinmiao.github.io/2018-04-24-21åˆ†é’ŸMysqlæ•™ç¨‹.md at 444c91a5a1049ef043d2321f32c44628b7004182 Â· zhangjinmiao/zhangjinmiao.github.io Skip to content In this repository All GitHub â†µ Jump to â†µ No suggested jump to results In this repository All GitHub â†µ Jump to â†µ In this repository All GitHub â†µ Jump to â†µ Dashboard Pull requests Issues Marketplace Explore LouisTuo Sign out zhangjinmiao / zhangjinmiao.github.io New repository Import repository New gist New organization This repository New issue Signed in as LouisTuo ðŸŽ¯ Focusing Edit status ðŸŽ¯ ðŸŽ¯ Could not update your status, please try again. 80 remaining Suggestions: ðŸŒ´ On vacation ðŸ¤’ Out sick ðŸ  Working from home ðŸŽ¯ Focusing Busy When others mention you, assign you, or request your review, GitHub will let them know that you have limited availability. Clear status Never Never Keep this status until you clear your status or edit your status. in 30 minutes in 1 hour in 4 hours today this week Set status Clear status Your profile Your repositories Your projects Your stars Your gists Help Settings Sign out Watch Notifications Not watching Be notified only when participating or @mentioned. Watch Releases only Be notified of new releases, and when participating or @mentioned. Unwatch releases Watching Be notified of all conversations. Unwatch Ignoring Never be notified. Stop ignoring 1 Unstar 0 Star 0 Fork 0 zhangjinmiao/zhangjinmiao.github.io Code Issues 0 Pull requests 0 Projects 0 Wiki Security Insights Code Issues 0 Pull requests 0 Projects 0 Wiki Security Pulse Community Permalink Tree: 444c91a5a1 Find file Copy path zhangjinmiao.github.io/_posts/mysql/2018-04-24-21åˆ†é’ŸMysqlæ•™ç¨‹.md Find file Copy path Fetching contributors&hellip; Cannot retrieve contributors at this time 559 lines (419 sloc) 19.3 KB Raw Blame History layout title categories description keywords post 21 åˆ†é’Ÿ MySQL æ•™ç¨‹ MySQL mysql mysql, 21 åˆ†é’Ÿ ä¸ºä»€ä¹ˆåªéœ€è¦ 21 åˆ†é’Ÿå‘¢ï¼Ÿå› ä¸ºåœ¨æˆ‘ä»¬å¤§å¤©æœæœ‰å¥è¯å«åšä¸‰ä¸ƒäºŒåä¸€ï¼Œä½ å¯ä»¥ä¸ç®¡ä¸‰ä¸ƒäºŒåä¸€å¼€å§‹ä½¿ç”¨ MySQL åŠå¿«é€Ÿçš„æ–¹å¼å…¥é—¨ MySQLã€‚å…¶å®ž 21 åˆ†é’ŸæŠŠä¸‹é¢è¯­å¥ä¹‹è¡Œä¸€éæ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œè¦ç†è§£çš„è¯ä¼°è®¡ä¸æ­¢ 21 åˆ†é’Ÿï¼Œå¯¹äºŽåˆå­¦è€…æ¥è¯´åªéœ€æ»¡è¶³è‡ªå·±éœ€æ±‚å¯ä»¥å¢žåˆ æ”¹æŸ¥ç­‰ç®€æ˜“çš„ç»´æŠ¤å³å¯ã€‚å¼€å§‹ä½¿ç”¨æˆ‘ä¸‹é¢æ‰€æœ‰çš„ SQL è¯­å¥æ˜¯åŸºäºŽ MySQL 5.6+è¿è¡Œã€‚MySQL ä¸ºå…³ç³»åž‹æ•°æ®åº“(Relational Database Management System)ï¼Œä¸€ä¸ªå…³ç³»åž‹æ•°æ®åº“ç”±ä¸€ä¸ªæˆ–æ•°ä¸ªè¡¨æ ¼ç»„æˆ, å¦‚å›¾æ‰€ç¤ºçš„ä¸€ä¸ªè¡¨æ ¼ï¼šè¡¨å¤´(header): æ¯ä¸€åˆ—çš„åç§°;åˆ—(col): å…·æœ‰ç›¸åŒæ•°æ®ç±»åž‹çš„æ•°æ®çš„é›†åˆ;è¡Œ(row): æ¯ä¸€è¡Œç”¨æ¥æè¿°æŸä¸ªäºº/ç‰©çš„å…·ä½“ä¿¡æ¯;å€¼(value): è¡Œçš„å…·ä½“ä¿¡æ¯, æ¯ä¸ªå€¼å¿…é¡»ä¸Žè¯¥åˆ—çš„æ•°æ®ç±»åž‹ç›¸åŒ;é”®(key): è¡¨ä¸­ç”¨æ¥è¯†åˆ«æŸä¸ªç‰¹å®šçš„äºº\ç‰©çš„æ–¹æ³•, é”®çš„å€¼åœ¨å½“å‰åˆ—ä¸­å…·æœ‰å”¯ä¸€æ€§ã€‚ç™»å½• MySQLmysql -h 127.0.0.1 -u ç”¨æˆ·å -pmysql -D æ‰€é€‰æ‹©çš„æ•°æ®åº“å -h ä¸»æœºå -u ç”¨æˆ·å -pmysql&gt; exit # é€€å‡º ä½¿ç”¨ â€œquit;â€ æˆ– â€œ\q;â€ ä¸€æ ·çš„æ•ˆæžœmysql&gt; status; # æ˜¾ç¤ºå½“å‰mysqlçš„versionçš„å„ç§ä¿¡æ¯mysql&gt; select version(); # æ˜¾ç¤ºå½“å‰mysqlçš„versionä¿¡æ¯mysql&gt; show global variables like â€˜portâ€˜; # æŸ¥çœ‹MySQLç«¯å£å·åˆ›å»ºæ•°æ®åº“å¯¹äºŽè¡¨çš„æ“ä½œéœ€è¦å…ˆè¿›å…¥åº“use åº“å;â€“ åˆ›å»ºä¸€ä¸ªåä¸º samp_db çš„æ•°æ®åº“ï¼Œæ•°æ®åº“å­—ç¬¦ç¼–ç æŒ‡å®šä¸º gbkcreate database samp_db character set gbk;drop database samp_db; â€“ åˆ é™¤ åº“åä¸ºsamp_dbçš„åº“show databases; â€“ æ˜¾ç¤ºæ•°æ®åº“åˆ—è¡¨ã€‚use samp_db; â€“ é€‰æ‹©åˆ›å»ºçš„æ•°æ®åº“samp_dbshow tables; â€“ æ˜¾ç¤ºsamp_dbä¸‹é¢æ‰€æœ‰çš„è¡¨åå­—describe è¡¨å; â€“ æ˜¾ç¤ºæ•°æ®è¡¨çš„ç»“æž„delete from è¡¨å; â€“ æ¸…ç©ºè¡¨ä¸­è®°å½•åˆ›å»ºæ•°æ®åº“è¡¨ä½¿ç”¨ create table è¯­å¥å¯å®Œæˆå¯¹è¡¨çš„åˆ›å»º, create table çš„å¸¸è§å½¢å¼:è¯­æ³•ï¼šcreate table è¡¨åç§°(åˆ—å£°æ˜Ž);â€“ å¦‚æžœæ•°æ®åº“ä¸­å­˜åœ¨user_accountsè¡¨ï¼Œå°±æŠŠå®ƒä»Žæ•°æ®åº“ä¸­dropæŽ‰DROP TABLE IF EXISTS &lt;/span&gt;user_accounts&lt;span class=&quot;pl-pds&quot;&gt;;CREATE TABLE &lt;span class=&quot;pl-en&quot;&gt;user_accounts&lt;/span&gt; ( &lt;/span&gt;id&lt;span class=&quot;pl-pds&quot;&gt; int(100) unsigned NOT NULL AUTO_INCREMENT primary key, &lt;/span&gt;password&lt;span class=&quot;pl-pds&quot;&gt; varchar(32) NOT NULL DEFAULT â€˜â€˜ COMMENT â€˜ç”¨æˆ·å¯†ç â€˜, &lt;/span&gt;reset_password&lt;span class=&quot;pl-pds&quot;&gt; tinyint(32) NOT NULL DEFAULT 0 COMMENT â€˜ç”¨æˆ·ç±»åž‹ï¼š0ï¼ä¸éœ€è¦é‡ç½®å¯†ç ï¼›1-éœ€è¦é‡ç½®å¯†ç â€˜, &lt;/span&gt;mobile&lt;span class=&quot;pl-pds&quot;&gt; varchar(20) NOT NULL DEFAULT â€˜â€˜ COMMENT â€˜æ‰‹æœºâ€˜, &lt;/span&gt;create_at&lt;span class=&quot;pl-pds&quot;&gt; timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), &lt;/span&gt;update_at&lt;span class=&quot;pl-pds&quot;&gt; timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), â€“ åˆ›å»ºå”¯ä¸€ç´¢å¼•ï¼Œä¸å…è®¸é‡å¤ UNIQUE INDEX idx_user_mobile(&lt;/span&gt;mobile&lt;span class=&quot;pl-pds&quot;&gt;))ENGINE=InnoDB DEFAULT CHARSET=utf8COMMENT=â€˜ç”¨æˆ·è¡¨ä¿¡æ¯â€˜;æ•°æ®ç±»åž‹çš„å±žæ€§è§£é‡ŠNULLï¼šæ•°æ®åˆ—å¯åŒ…å« NULL å€¼ï¼›NOT NULLï¼šæ•°æ®åˆ—ä¸å…è®¸åŒ…å« NULL å€¼ï¼›DEFAULTï¼šé»˜è®¤å€¼ï¼›PRIMARYï¼šKEY ä¸»é”®ï¼›AUTO_INCREMENTï¼šè‡ªåŠ¨é€’å¢žï¼Œé€‚ç”¨äºŽæ•´æ•°ç±»åž‹ï¼›UNSIGNEDï¼šæ˜¯æŒ‡æ•°å€¼ç±»åž‹åªèƒ½ä¸ºæ­£æ•°ï¼›CHARACTER SET nameï¼šæŒ‡å®šä¸€ä¸ªå­—ç¬¦é›†ï¼›COMMENTï¼šå¯¹è¡¨æˆ–è€…å­—æ®µè¯´æ˜Žï¼›å¢žåˆ æ”¹æŸ¥SELECTSELECT è¯­å¥ç”¨äºŽä»Žè¡¨ä¸­é€‰å–æ•°æ®ã€‚è¯­æ³•ï¼šSELECT åˆ—åç§° FROM è¡¨åç§°è¯­æ³•ï¼šSELECT FROM è¡¨åç§°â€“ è¡¨stationå–ä¸ªåˆ«åå«sï¼Œè¡¨stationä¸­ä¸åŒ…å« å­—æ®µid=13æˆ–è€…14 çš„ï¼Œå¹¶ä¸”idä¸ç­‰äºŽ4çš„ æŸ¥è¯¢å‡ºæ¥ï¼Œåªæ˜¾ç¤ºidSELECT s.id from station s WHERE id in (13,14) and id not in (4);â€“ ä»Žè¡¨ Persons é€‰å– LastName åˆ—çš„æ•°æ®SELECT LastName FROM Personsâ€“ ä»Žè¡¨ users é€‰å– id=3 çš„æ•°æ®ï¼Œå¹¶åªæ‹‰ä¸€æ¡æ•°æ®(æ®è¯´èƒ½ä¼˜åŒ–æ€§èƒ½)SELECT FROM users where id=3 limit 1â€“ ç»“æžœé›†ä¸­ä¼šè‡ªåŠ¨åŽ»é‡å¤æ•°æ®SELECT DISTINCT Company FROM Ordersâ€“ è¡¨ Persons å­—æ®µ Id_P ç­‰äºŽ Orders å­—æ®µ Id_P çš„å€¼ï¼Œâ€“ ç»“æžœé›†æ˜¾ç¤º Personsè¡¨çš„ LastNameã€FirstNameå­—æ®µï¼ŒOrdersè¡¨çš„OrderNoå­—æ®µSELECT p.LastName, p.FirstName, o.OrderNo FROM Persons p, Orders o WHERE p.Id_P = o.Id_Pâ€“ gbk å’Œ utf8 ä¸­è‹±æ–‡æ··åˆæŽ’åºæœ€ç®€å•çš„åŠžæ³• â€“ ciæ˜¯ case insensitive, å³ â€œå¤§å°å†™ä¸æ•æ„Ÿâ€SELECT tag, COUNT(tag) from news GROUP BY tag order by convert(tag using gbk) collate gbk_chinese_ci;SELECT tag, COUNT(tag) from news GROUP BY tag order by convert(tag using utf8) collate utf8_unicode_ci;UPDATEUpdate è¯­å¥ç”¨äºŽä¿®æ”¹è¡¨ä¸­çš„æ•°æ®ã€‚è¯­æ³•ï¼šUPDATE è¡¨åç§° SET åˆ—åç§° = æ–°å€¼ WHERE åˆ—åç§° = æŸå€¼â€“ updateè¯­å¥è®¾ç½®å­—æ®µå€¼ä¸ºå¦ä¸€ä¸ªç»“æžœå–å‡ºæ¥çš„å­—æ®µupdate user set name = (select name from user1 where user1 .id = 1 )where id = (select id from user2 where user2 .name=â€˜å°è‹â€˜);â€“ æ›´æ–°è¡¨ orders ä¸­ id=1 çš„é‚£ä¸€è¡Œæ•°æ®æ›´æ–°å®ƒçš„ title å­—æ®µUPDATE &lt;/span&gt;orders&lt;span class=&quot;pl-pds&quot;&gt; set title=â€˜è¿™é‡Œæ˜¯æ ‡é¢˜â€˜ WHERE id=1;INSERTINSERT INTO è¯­å¥ç”¨äºŽå‘è¡¨æ ¼ä¸­æ’å…¥æ–°çš„è¡Œã€‚è¯­æ³•ï¼šINSERT INTO è¡¨åç§° VALUES (å€¼1, å€¼2,â€¦.)è¯­æ³•ï¼šINSERT INTO è¡¨åç§° (åˆ—1, åˆ—2,â€¦) VALUES (å€¼1, å€¼2,â€¦.)â€“ å‘è¡¨ Persons æ’å…¥ä¸€æ¡å­—æ®µ LastName = JSLite å­—æ®µ Address = shanghaiINSERT INTO Persons (LastName, Address) VALUES (â€˜JSLiteâ€˜, â€˜shanghaiâ€˜);â€“ å‘è¡¨ meeting æ’å…¥ å­—æ®µ a=1 å’Œå­—æ®µ b=2INSERT INTO meeting SET a=1,b=2;â€“ â€“ SQLå®žçŽ°å°†ä¸€ä¸ªè¡¨çš„æ•°æ®æ’å…¥åˆ°å¦å¤–ä¸€ä¸ªè¡¨çš„ä»£ç â€“ å¦‚æžœåªå¸Œæœ›å¯¼å…¥æŒ‡å®šå­—æ®µï¼Œå¯ä»¥ç”¨è¿™ç§æ–¹æ³•ï¼šâ€“ INSERT INTO ç›®æ ‡è¡¨ (å­—æ®µ1, å­—æ®µ2, â€¦) SELECT å­—æ®µ1, å­—æ®µ2, â€¦ FROM æ¥æºè¡¨;INSERT INTO orders (user_account_id, title) SELECT m.user_id, m.title FROM meeting m where m.id=1;â€“ å‘è¡¨ charger æ’å…¥ä¸€æ¡æ•°æ®ï¼Œå·²å­˜åœ¨å°±å¯¹è¡¨ charger æ›´æ–° type,update_at å­—æ®µï¼›INSERT INTO &lt;/span&gt;charger&lt;span class=&quot;pl-pds&quot;&gt; (&lt;/span&gt;id&lt;span class=&quot;pl-pds&quot;&gt;,&lt;/span&gt;type&lt;span class=&quot;pl-pds&quot;&gt;,&lt;/span&gt;create_at&lt;span class=&quot;pl-pds&quot;&gt;,&lt;/span&gt;update_at&lt;span class=&quot;pl-pds&quot;&gt;) VALUES (3,2,â€˜2017-05-18 11:06:17â€˜,â€˜2017-05-18 11:06:17â€˜) ON DUPLICATE KEY UPDATE &lt;/span&gt;id&lt;span class=&quot;pl-pds&quot;&gt;=VALUES(&lt;/span&gt;id&lt;span class=&quot;pl-pds&quot;&gt;), &lt;/span&gt;type&lt;span class=&quot;pl-pds&quot;&gt;=VALUES(&lt;/span&gt;type&lt;span class=&quot;pl-pds&quot;&gt;), &lt;/span&gt;update_at&lt;span class=&quot;pl-pds&quot;&gt;=VALUES(&lt;/span&gt;update_at&lt;span class=&quot;pl-pds&quot;&gt;);DELETEDELETE è¯­å¥ç”¨äºŽåˆ é™¤è¡¨ä¸­çš„è¡Œã€‚è¯­æ³•ï¼šDELETE FROM è¡¨åç§° WHERE åˆ—åç§° = å€¼â€“ åœ¨ä¸åˆ é™¤table_nameè¡¨çš„æƒ…å†µä¸‹åˆ é™¤æ‰€æœ‰çš„è¡Œï¼Œæ¸…ç©ºè¡¨ã€‚DELETE FROM table_nameâ€“ æˆ–è€…DELETE FROM table_nameâ€“ åˆ é™¤ Personè¡¨å­—æ®µ LastName = â€˜JSLiteâ€™ DELETE FROM Person WHERE LastName = â€˜JSLiteâ€˜â€“ åˆ é™¤ è¡¨meeting id ä¸º2å’Œ3çš„ä¸¤æ¡æ•°æ®DELETE from meeting where id in (2,3);WHEREWHERE å­å¥ç”¨äºŽè§„å®šé€‰æ‹©çš„æ ‡å‡†ã€‚è¯­æ³•ï¼šSELECT åˆ—åç§° FROM è¡¨åç§° WHERE åˆ— è¿ç®—ç¬¦ å€¼â€“ ä»Žè¡¨ Persons ä¸­é€‰å‡º Year å­—æ®µå¤§äºŽ 1965 çš„æ•°æ®SELECT FROM Persons WHERE Year&gt;1965AND å’Œ ORAND - å¦‚æžœç¬¬ä¸€ä¸ªæ¡ä»¶å’Œç¬¬äºŒä¸ªæ¡ä»¶éƒ½æˆç«‹ï¼›OR - å¦‚æžœç¬¬ä¸€ä¸ªæ¡ä»¶å’Œç¬¬äºŒä¸ªæ¡ä»¶ä¸­åªè¦æœ‰ä¸€ä¸ªæˆç«‹ï¼›ANDâ€“ åˆ é™¤ meeting è¡¨å­—æ®µ â€“ id=2 å¹¶ä¸” user_id=5 çš„æ•°æ® å’Œâ€“ id=3 å¹¶ä¸” user_id=6 çš„æ•°æ® DELETE from meeting where id in (2,3) and user_id in (5,6);â€“ ä½¿ç”¨ AND æ¥æ˜¾ç¤ºæ‰€æœ‰å§“ä¸º â€œCarterâ€ å¹¶ä¸”åä¸º â€œThomasâ€ çš„äººï¼šSELECT FROM Persons WHERE FirstName=â€˜Thomasâ€˜ AND LastName=â€˜Carterâ€˜;ORâ€“ ä½¿ç”¨ OR æ¥æ˜¾ç¤ºæ‰€æœ‰å§“ä¸º â€œCarterâ€ æˆ–è€…åä¸º â€œThomasâ€ çš„äººï¼šSELECT FROM Persons WHERE firstname=â€˜Thomasâ€˜ OR lastname=â€˜Carterâ€˜ORDER BYè¯­å¥é»˜è®¤æŒ‰ç…§å‡åºå¯¹è®°å½•è¿›è¡ŒæŽ’åºã€‚ORDER BY - è¯­å¥ç”¨äºŽæ ¹æ®æŒ‡å®šçš„åˆ—å¯¹ç»“æžœé›†è¿›è¡ŒæŽ’åºã€‚DESC - æŒ‰ç…§é™åºå¯¹è®°å½•è¿›è¡ŒæŽ’åºã€‚ASC - æŒ‰ç…§é¡ºåºå¯¹è®°å½•è¿›è¡ŒæŽ’åºã€‚â€“ Companyåœ¨è¡¨Ordersä¸­ä¸ºå­—æ¯ï¼Œåˆ™ä¼šä»¥å­—æ¯é¡ºåºæ˜¾ç¤ºå…¬å¸åç§°SELECT Company, OrderNumber FROM Orders ORDER BY Companyâ€“ åŽé¢è·Ÿä¸Š DESC åˆ™ä¸ºé™åºæ˜¾ç¤ºSELECT Company, OrderNumber FROM Orders ORDER BY Company DESCâ€“ Companyä»¥é™åºæ˜¾ç¤ºå…¬å¸åç§°ï¼Œå¹¶OrderNumberä»¥é¡ºåºæ˜¾ç¤ºSELECT Company, OrderNumber FROM Orders ORDER BY Company DESC, OrderNumber ASCININ - æ“ä½œç¬¦å…è®¸æˆ‘ä»¬åœ¨ WHERE å­å¥ä¸­è§„å®šå¤šä¸ªå€¼ã€‚IN - æ“ä½œç¬¦ç”¨æ¥æŒ‡å®šèŒƒå›´ï¼ŒèŒƒå›´ä¸­çš„æ¯ä¸€æ¡ï¼Œéƒ½è¿›è¡ŒåŒ¹é…ã€‚IN å–å€¼è§„å¾‹ï¼Œç”±é€—å·åˆ†å‰²ï¼Œå…¨éƒ¨æ”¾ç½®æ‹¬å·ä¸­ã€‚è¯­æ³•ï¼šSELECT â€œå­—æ®µåâ€FROM â€œè¡¨æ ¼åâ€WHERE â€œå­—æ®µåâ€ IN (â€˜å€¼ä¸€â€™, â€˜å€¼äºŒâ€™, â€¦);â€“ ä»Žè¡¨ Persons é€‰å– å­—æ®µ LastName ç­‰äºŽ Adamsã€CarterSELECT FROM Persons WHERE LastName IN (â€˜Adamsâ€˜,â€˜Carterâ€˜)NOTNOT - æ“ä½œç¬¦æ€»æ˜¯ä¸Žå…¶ä»–æ“ä½œç¬¦ä¸€èµ·ä½¿ç”¨ï¼Œç”¨åœ¨è¦è¿‡æ»¤çš„å‰é¢ã€‚SELECT vend_id, prod_name FROM Products WHERE NOT vend_id = â€˜DLL01â€˜ ORDER BY prod_name;UNIONUNION - æ“ä½œç¬¦ç”¨äºŽåˆå¹¶ä¸¤ä¸ªæˆ–å¤šä¸ª SELECT è¯­å¥çš„ç»“æžœé›†ã€‚â€“ åˆ—å‡ºæ‰€æœ‰åœ¨ä¸­å›½è¡¨ï¼ˆEmployees_Chinaï¼‰å’Œç¾Žå›½ï¼ˆEmployees_USAï¼‰çš„ä¸åŒçš„é›‡å‘˜åSELECT E_Name FROM Employees_China UNION SELECT E_Name FROM Employees_USAâ€“ åˆ—å‡º meeting è¡¨ä¸­çš„ pic_urlï¼Œâ€“ station è¡¨ä¸­çš„ number_station åˆ«åè®¾ç½®æˆ pic_url é¿å…å­—æ®µä¸ä¸€æ ·æŠ¥é”™â€“ æŒ‰æ›´æ–°æ—¶é—´æŽ’åºSELECT id,pic_url FROM meeting UNION ALL SELECT id,number_station AS pic_url FROM station ORDER BY update_at;â€“ é€šè¿‡ UNION è¯­æ³•åŒæ—¶æŸ¥è¯¢äº† products è¡¨ å’Œ comments è¡¨çš„æ€»è®°å½•æ•°ï¼Œå¹¶ä¸”æŒ‰ç…§ count æŽ’åºSELECT â€˜productâ€˜ AS type, count() as count FROM &lt;/span&gt;products&lt;span class=&quot;pl-pds&quot;&gt; union select â€˜commentâ€˜ as type, count() as count FROM &lt;/span&gt;comments&lt;span class=&quot;pl-pds&quot;&gt; order by count;ASas - å¯ç†è§£ä¸ºï¼šç”¨ä½œã€å½“æˆï¼Œä½œä¸ºï¼›åˆ«åä¸€èˆ¬æ˜¯é‡å‘½ååˆ—åæˆ–è€…è¡¨åã€‚è¯­æ³•ï¼šselect column_1 as åˆ—1,column_2 as åˆ—2 from table as è¡¨SELECT FROM Employee AS empâ€“ è¿™å¥æ„æ€æ˜¯æŸ¥æ‰¾æ‰€æœ‰Employee è¡¨é‡Œé¢çš„æ•°æ®ï¼Œå¹¶æŠŠEmployeeè¡¨æ ¼å‘½åä¸º empã€‚â€“ å½“ä½ å‘½åä¸€ä¸ªè¡¨ä¹‹åŽï¼Œä½ å¯ä»¥åœ¨ä¸‹é¢ç”¨ emp ä»£æ›¿ Employee.â€“ ä¾‹å¦‚ SELECT FROM emp.SELECT MAX(OrderPrice) AS LargestOrderPrice FROM Ordersâ€“ åˆ—å‡ºè¡¨ Orders å­—æ®µ OrderPrice åˆ—æœ€å¤§å€¼ï¼Œâ€“ ç»“æžœé›†åˆ—ä¸æ˜¾ç¤º OrderPrice æ˜¾ç¤º LargestOrderPriceâ€“ æ˜¾ç¤ºè¡¨ users_profile ä¸­çš„ name åˆ—SELECT t.name from (SELECT from users_profile a) AS t;â€“ è¡¨ user_accounts å‘½ååˆ«å uaï¼Œè¡¨ users_profile å‘½ååˆ«å upâ€“ æ»¡è¶³æ¡ä»¶ è¡¨ user_accounts å­—æ®µ id ç­‰äºŽ è¡¨ users_profile å­—æ®µ user_idâ€“ ç»“æžœé›†åªæ˜¾ç¤ºmobileã€nameä¸¤åˆ—SELECT ua.mobile,up.name FROM user_accounts as ua INNER JOIN users_profile as up ON ua.id = up.user_id;JOINç”¨äºŽæ ¹æ®ä¸¤ä¸ªæˆ–å¤šä¸ªè¡¨ä¸­çš„åˆ—ä¹‹é—´çš„å…³ç³»ï¼Œä»Žè¿™äº›è¡¨ä¸­æŸ¥è¯¢æ•°æ®ã€‚JOIN: å¦‚æžœè¡¨ä¸­æœ‰è‡³å°‘ä¸€ä¸ªåŒ¹é…ï¼Œåˆ™è¿”å›žè¡ŒINNER JOIN:åœ¨è¡¨ä¸­å­˜åœ¨è‡³å°‘ä¸€ä¸ªåŒ¹é…æ—¶ï¼ŒINNER JOIN å…³é”®å­—è¿”å›žè¡Œã€‚LEFT JOIN: å³ä½¿å³è¡¨ä¸­æ²¡æœ‰åŒ¹é…ï¼Œä¹Ÿä»Žå·¦è¡¨è¿”å›žæ‰€æœ‰çš„è¡ŒRIGHT JOIN: å³ä½¿å·¦è¡¨ä¸­æ²¡æœ‰åŒ¹é…ï¼Œä¹Ÿä»Žå³è¡¨è¿”å›žæ‰€æœ‰çš„è¡ŒFULL JOIN: åªè¦å…¶ä¸­ä¸€ä¸ªè¡¨ä¸­å­˜åœ¨åŒ¹é…ï¼Œå°±è¿”å›žè¡ŒSELECT Persons.LastName, Persons.FirstName, Orders.OrderNoFROM PersonsINNER JOIN OrdersON Persons.Id_P = Orders.Id_PORDER BY Persons.LastName;SQL å‡½æ•°COUNTCOUNT è®©æˆ‘ä»¬èƒ½å¤Ÿæ•°å‡ºåœ¨è¡¨æ ¼ä¸­æœ‰å¤šå°‘ç¬”èµ„æ–™è¢«é€‰å‡ºæ¥ã€‚è¯­æ³•ï¼šSELECT COUNT(â€œå­—æ®µåâ€) FROM â€œè¡¨æ ¼åâ€;â€“ è¡¨ Store_Information æœ‰å‡ ç¬” store_name æ ä¸æ˜¯ç©ºç™½çš„èµ„æ–™ã€‚â€“ â€œIS NOT NULLâ€ æ˜¯ â€œè¿™ä¸ªæ ä½ä¸æ˜¯ç©ºç™½â€ çš„æ„æ€ã€‚SELECT COUNT (Store_Name) FROM Store_Information WHERE Store_Name IS NOT NULL;â€“ èŽ·å– Persons è¡¨çš„æ€»æ•°SELECT COUNT(1) AS totals FROM Persons;â€“ èŽ·å–è¡¨ station å­—æ®µ user_id ç›¸åŒçš„æ€»æ•°select user_id, count() as totals from station group by user_id;MAXMAX å‡½æ•°è¿”å›žä¸€åˆ—ä¸­çš„æœ€å¤§å€¼ã€‚NULL å€¼ä¸åŒ…æ‹¬åœ¨è®¡ç®—ä¸­ã€‚è¯­æ³•ï¼šSELECT MAX(â€œå­—æ®µåâ€) FROM â€œè¡¨æ ¼åâ€â€“ åˆ—å‡ºè¡¨ Orders å­—æ®µ OrderPrice åˆ—æœ€å¤§å€¼ï¼Œâ€“ ç»“æžœé›†åˆ—ä¸æ˜¾ç¤º OrderPrice æ˜¾ç¤º LargestOrderPriceSELECT MAX(OrderPrice) AS LargestOrderPrice FROM Ordersè§¦å‘å™¨è¯­æ³•ï¼šcreate trigger &lt;è§¦å‘å™¨åç§°&gt;{ before | after} # ä¹‹å‰æˆ–è€…ä¹‹åŽå‡ºå‘insert | update | delete # æŒ‡æ˜Žäº†æ¿€æ´»è§¦å‘ç¨‹åºçš„è¯­å¥çš„ç±»åž‹on &lt;è¡¨å&gt; # æ“ä½œå“ªå¼ è¡¨for each row # è§¦å‘å™¨çš„æ‰§è¡Œé—´éš”ï¼Œfor each row é€šçŸ¥è§¦å‘å™¨æ¯éš”ä¸€è¡Œæ‰§è¡Œä¸€æ¬¡åŠ¨ä½œï¼Œè€Œä¸æ˜¯å¯¹æ•´ä¸ªè¡¨æ‰§è¡Œä¸€æ¬¡ã€‚&lt;è§¦å‘å™¨ SQL è¯­å¥&gt;delimiter $CREATE TRIGGER set_userdate BEFORE INSERTon &lt;/span&gt;message&lt;span class=&quot;pl-pds&quot;&gt;for EACH ROWBEGIN set @statu = new.status; â€“ å£°æ˜Žå¤åˆ¶å˜é‡ statu if @statu = 0 then â€“ åˆ¤æ–­ statu æ˜¯å¦ç­‰äºŽ 0 UPDATE &lt;/span&gt;user_accounts&lt;span class=&quot;pl-pds&quot;&gt; SET status=1 WHERE openid=NEW.openid; end if;END$DELIMITER ; â€“ æ¢å¤ç»“æŸç¬¦å·OLD å’Œ NEW ä¸åŒºåˆ†å¤§å°å†™NEW ç”¨ NEW.col_nameï¼Œæ²¡æœ‰æ—§è¡Œã€‚åœ¨ DELETE è§¦å‘ç¨‹åºä¸­ï¼Œä»…èƒ½ä½¿ç”¨ OLD.col_nameï¼Œæ²¡æœ‰æ–°è¡Œã€‚OLD ç”¨ OLD.col_name æ¥å¼•ç”¨æ›´æ–°å‰çš„æŸä¸€è¡Œçš„åˆ—æ·»åŠ ç´¢å¼•æ™®é€šç´¢å¼•(INDEX)è¯­æ³•ï¼šALTER TABLE è¡¨åå­— ADD INDEX ç´¢å¼•åå­— ( å­—æ®µåå­— )â€“ â€“ç›´æŽ¥åˆ›å»ºç´¢å¼•CREATE INDEX index_user ON user(title)â€“ â€“ä¿®æ”¹è¡¨ç»“æž„çš„æ–¹å¼æ·»åŠ ç´¢å¼•ALTER TABLE table_name ADD INDEX index_name ON (column(length))â€“ ç»™ user è¡¨ä¸­çš„ nameå­—æ®µ æ·»åŠ æ™®é€šç´¢å¼•(INDEX)ALTER TABLE &lt;/span&gt;table&lt;span class=&quot;pl-pds&quot;&gt; ADD INDEX index_name (name)â€“ â€“åˆ›å»ºè¡¨çš„æ—¶å€™åŒæ—¶åˆ›å»ºç´¢å¼•CREATE TABLE &lt;span class=&quot;pl-en&quot;&gt;table&lt;/span&gt; ( &lt;/span&gt;id&lt;span class=&quot;pl-pds&quot;&gt; int(11) NOT NULL AUTO_INCREMENT , &lt;/span&gt;title&lt;span class=&quot;pl-pds&quot;&gt; char(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL , &lt;/span&gt;content&lt;span class=&quot;pl-pds&quot;&gt; text CHARACTER SET utf8 COLLATE utf8_general_ci NULL , &lt;/span&gt;time&lt;span class=&quot;pl-pds&quot;&gt; int(10) NULL DEFAULT NULL , PRIMARY KEY (&lt;/span&gt;id&lt;span class=&quot;pl-pds&quot;&gt;), INDEX index_name (title(length)))â€“ â€“åˆ é™¤ç´¢å¼•DROP INDEX index_name ON tableä¸»é”®ç´¢å¼•(PRIMARY key)è¯­æ³•ï¼šALTER TABLE è¡¨åå­— ADD PRIMARY KEY ( å­—æ®µåå­— )â€“ ç»™ user è¡¨ä¸­çš„ idå­—æ®µ æ·»åŠ ä¸»é”®ç´¢å¼•(PRIMARY key)ALTER TABLE &lt;/span&gt;user&lt;span class=&quot;pl-pds&quot;&gt; ADD PRIMARY key (id);å”¯ä¸€ç´¢å¼•(UNIQUE)è¯­æ³•ï¼šALTER TABLE è¡¨åå­— ADD UNIQUE (å­—æ®µåå­—)â€“ ç»™ user è¡¨ä¸­çš„ creattime å­—æ®µæ·»åŠ å”¯ä¸€ç´¢å¼•(UNIQUE)ALTER TABLE &lt;/span&gt;user&lt;span class=&quot;pl-pds&quot;&gt; ADD UNIQUE (creattime);å…¨æ–‡ç´¢å¼•(FULLTEXT)è¯­æ³•ï¼šALTER TABLE è¡¨åå­— ADD FULLTEXT (å­—æ®µåå­—)â€“ ç»™ user è¡¨ä¸­çš„ description å­—æ®µæ·»åŠ å…¨æ–‡ç´¢å¼•(FULLTEXT)ALTER TABLE &lt;/span&gt;user&lt;span class=&quot;pl-pds&quot;&gt; ADD FULLTEXT (description);æ·»åŠ å¤šåˆ—ç´¢å¼•è¯­æ³•ï¼šALTER TABLE table_name ADD INDEX index_name ( column1, column2, column3)â€“ ç»™ user è¡¨ä¸­çš„ nameã€cityã€age å­—æ®µæ·»åŠ åå­—ä¸ºname_city_ageçš„æ™®é€šç´¢å¼•(INDEX)ALTER TABLE user ADD INDEX name_city_age (name(10),city,age); å»ºç«‹ç´¢å¼•çš„æ—¶æœºåœ¨WHEREå’ŒJOINä¸­å‡ºçŽ°çš„åˆ—éœ€è¦å»ºç«‹ç´¢å¼•ï¼Œä½†ä¹Ÿä¸å®Œå…¨å¦‚æ­¤ï¼šMySQL åªå¯¹&lt;ï¼Œ&lt;=ï¼Œ=ï¼Œ&gt;ï¼Œ&gt;=ï¼ŒBETWEENï¼ŒINä½¿ç”¨ç´¢å¼•æŸäº›æ—¶å€™çš„LIKEä¹Ÿä¼šä½¿ç”¨ç´¢å¼•ã€‚åœ¨LIKEä»¥é€šé…ç¬¦%å’Œ_å¼€å¤´ä½œæŸ¥è¯¢æ—¶ï¼ŒMySQL ä¸ä¼šä½¿ç”¨ç´¢å¼•ã€‚â€“ æ­¤æ—¶å°±éœ€è¦å¯¹cityå’Œageå»ºç«‹ç´¢å¼•ï¼Œâ€“ ç”±äºŽmytableè¡¨çš„userameä¹Ÿå‡ºçŽ°åœ¨äº†JOINå­å¥ä¸­ï¼Œä¹Ÿæœ‰å¯¹å®ƒå»ºç«‹ç´¢å¼•çš„å¿…è¦ã€‚SELECT t.NameFROM mytable t LEFT JOIN mytable m ON t.Name=m.usernameWHERE m.age=20 AND m.city=â€˜ä¸Šæµ·â€˜;SELECT FROM mytable WHERE username likeâ€˜admin%â€˜; â€“ è€Œä¸‹å¥å°±ä¸ä¼šä½¿ç”¨ï¼šSELECT FROM mytable WHEREt Name likeâ€˜%adminâ€˜; â€“ å› æ­¤ï¼Œåœ¨ä½¿ç”¨LIKEæ—¶åº”æ³¨æ„ä»¥ä¸Šçš„åŒºåˆ«ã€‚ç´¢å¼•çš„æ³¨æ„äº‹é¡¹ç´¢å¼•ä¸ä¼šåŒ…å«æœ‰ NULL å€¼çš„åˆ—ä½¿ç”¨çŸ­ç´¢å¼•ä¸è¦åœ¨åˆ—ä¸Šè¿›è¡Œè¿ç®— ç´¢å¼•ä¼šå¤±æ•ˆåˆ›å»ºåŽè¡¨çš„ä¿®æ”¹æ·»åŠ åˆ—è¯­æ³•ï¼šalter table è¡¨å add åˆ—å åˆ—æ•°æ®ç±»åž‹ [after æ’å…¥ä½ç½®];ç¤ºä¾‹:â€“ åœ¨è¡¨studentsçš„æœ€åŽè¿½åŠ åˆ— address: alter table students add address char(60);â€“ åœ¨åä¸º age çš„åˆ—åŽæ’å…¥åˆ— birthday: alter table students add birthday date after age;â€“ åœ¨åä¸º number_people çš„åˆ—åŽæ’å…¥åˆ— weeks: alter table students add column &lt;/span&gt;weeks&lt;span class=&quot;pl-pds&quot;&gt; varchar(5) not null default â€œâ€œ after &lt;/span&gt;number_people&lt;span class=&quot;pl-pds&quot;&gt;;ä¿®æ”¹åˆ—è¯­æ³•ï¼šalter table è¡¨å change åˆ—åç§° åˆ—æ–°åç§° æ–°æ•°æ®ç±»åž‹;â€“ å°†è¡¨ tel åˆ—æ”¹åä¸º telphone: alter table students change tel telphone char(13) default â€œ-â€œ;â€“ å°† name åˆ—çš„æ•°æ®ç±»åž‹æ”¹ä¸º char(16): alter table students change name name char(16) not null;â€“ ä¿®æ”¹ COMMENT å‰é¢å¿…é¡»å¾—æœ‰ç±»åž‹å±žæ€§alter table students change name name char(16) COMMENT â€˜è¿™é‡Œæ˜¯åå­—â€˜;â€“ ä¿®æ”¹åˆ—å±žæ€§çš„æ—¶å€™ å»ºè®®ä½¿ç”¨modify,ä¸éœ€è¦é‡å»ºè¡¨â€“ changeç”¨äºŽä¿®æ”¹åˆ—åå­—ï¼Œè¿™ä¸ªéœ€è¦é‡å»ºè¡¨alter table meeting modify &lt;/span&gt;weeks&lt;span class=&quot;pl-pds&quot;&gt; varchar(20) NOT NULL DEFAULT â€œâ€œ COMMENT â€œå¼€æ”¾æ—¥æœŸ å‘¨ä¸€åˆ°å‘¨æ—¥ï¼š0~6ï¼Œé—´éš”ç”¨è‹±æ–‡é€—å·éš”å¼€â€œ;â€“ userè¡¨çš„idåˆ—ï¼Œä¿®æ”¹æˆå­—ç¬¦ä¸²ç±»åž‹é•¿åº¦50ï¼Œä¸èƒ½ä¸ºç©ºï¼ŒFIRSTæ”¾åœ¨ç¬¬ä¸€åˆ—çš„ä½ç½®alter table &lt;/span&gt;user&lt;span class=&quot;pl-pds&quot;&gt; modify COLUMN &lt;/span&gt;id&lt;span class=&quot;pl-pds&quot;&gt; varchar(50) NOT NULL FIRST ;åˆ é™¤åˆ—è¯­æ³•ï¼šalter table è¡¨å drop åˆ—åç§°;â€“ åˆ é™¤è¡¨studentsä¸­çš„ birthday åˆ—: alter table students drop birthday;é‡å‘½åè¡¨è¯­æ³•ï¼šalter table è¡¨å rename æ–°è¡¨å;â€“ é‡å‘½å students è¡¨ä¸º workmates: alter table students rename workmates;æ¸…ç©ºè¡¨æ•°æ®æ–¹æ³•ä¸€ï¼šdelete from è¡¨å;æ–¹æ³•äºŒï¼štruncate from â€œè¡¨åâ€;DELETE:1. DML è¯­è¨€;2. å¯ä»¥å›žé€€;3. å¯ä»¥æœ‰æ¡ä»¶çš„åˆ é™¤;TRUNCATE:1. DDL è¯­è¨€;2. æ— æ³•å›žé€€;3. é»˜è®¤æ‰€æœ‰çš„è¡¨å†…å®¹éƒ½åˆ é™¤;4. åˆ é™¤é€Ÿåº¦æ¯” delete å¿«ã€‚â€“ æ¸…ç©ºè¡¨ä¸º workmates é‡Œé¢çš„æ•°æ®ï¼Œä¸åˆ é™¤è¡¨ã€‚ delete from workmates;â€“ åˆ é™¤workmatesè¡¨ä¸­çš„æ‰€æœ‰æ•°æ®ï¼Œä¸”æ— æ³•æ¢å¤truncate from workmates;åˆ é™¤æ•´å¼ è¡¨è¯­æ³•ï¼šdrop table è¡¨å;â€“ åˆ é™¤ workmates è¡¨: drop table workmates;åˆ é™¤æ•´ä¸ªæ•°æ®åº“è¯­æ³•ï¼šdrop database æ•°æ®åº“å;â€“ åˆ é™¤ samp_db æ•°æ®åº“: drop database samp_db;å…¶å®ƒå®žä¾‹SQL åˆ é™¤é‡å¤è®°å½•è½¬è½½â€“ æŸ¥æ‰¾è¡¨ä¸­å¤šä½™çš„é‡å¤è®°å½•ï¼Œé‡å¤è®°å½•æ˜¯æ ¹æ®å•ä¸ªå­—æ®µï¼ˆpeopleIdï¼‰æ¥åˆ¤æ–­select from people where peopleId in (select peopleId from people group by peopleId having count(peopleId) &gt; 1)â€“ åˆ é™¤è¡¨ä¸­å¤šä½™çš„é‡å¤è®°å½•ï¼Œé‡å¤è®°å½•æ˜¯æ ¹æ®å•ä¸ªå­—æ®µï¼ˆpeopleIdï¼‰æ¥åˆ¤æ–­ï¼Œåªç•™æœ‰rowidæœ€å°çš„è®°å½•delete from peoplewhere peopleId in (select peopleId from people group by peopleId having count(peopleId) &gt; 1)and rowid not in (select min(rowid) from people group by peopleId having count(peopleId )&gt;1)â€“ æŸ¥æ‰¾è¡¨ä¸­å¤šä½™çš„é‡å¤è®°å½•ï¼ˆå¤šä¸ªå­—æ®µï¼‰select from vitae awhere (a.peopleId,a.seq) in (select peopleId,seq from vitae group by peopleId,seq having count() &gt; 1)â€“ åˆ é™¤è¡¨ä¸­å¤šä½™çš„é‡å¤è®°å½•ï¼ˆå¤šä¸ªå­—æ®µï¼‰ï¼Œåªç•™æœ‰rowidæœ€å°çš„è®°å½•delete from vitae awhere (a.peopleId,a.seq) in (select peopleId,seq from vitae group by peopleId,seq having count() &gt; 1) and rowid not in (select min(rowid) from vitae group by peopleId,seq having count()&gt;1)â€“ æŸ¥æ‰¾è¡¨ä¸­å¤šä½™çš„é‡å¤è®°å½•ï¼ˆå¤šä¸ªå­—æ®µï¼‰ï¼Œä¸åŒ…å«rowidæœ€å°çš„è®°å½•select from vitae awhere (a.peopleId,a.seq) in (select peopleId,seq from vitae group by peopleId,seq having count() &gt; 1) and rowid not in (select min(rowid) from vitae group by peopleId,seq having count(*)&gt;1)å‚è€ƒæ‰‹å†Œhttp://www.w3school.com.cn/sql/index.asphttp://www.1keydata.com/cn/sql/sql-count.php Go &copy; 2019 GitHub, Inc. Terms Privacy Security Status Help Contact GitHub Pricing API Training Blog About You canâ€™t perform that action at this time. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session.]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F2019%2F07%2F21%2F2018-04-03-Mysql%E6%9F%A5%E8%AF%A2%E4%BC%98%E5%8C%96%2F</url>
    <content type="text"><![CDATA[&lt;!DOCTYPE html&gt; zhangjinmiao.github.io/2018-04-03-MysqlæŸ¥è¯¢ä¼˜åŒ–.md at 444c91a5a1049ef043d2321f32c44628b7004182 Â· zhangjinmiao/zhangjinmiao.github.io Skip to content In this repository All GitHub â†µ Jump to â†µ No suggested jump to results In this repository All GitHub â†µ Jump to â†µ In this repository All GitHub â†µ Jump to â†µ Dashboard Pull requests Issues Marketplace Explore LouisTuo Sign out zhangjinmiao / zhangjinmiao.github.io New repository Import repository New gist New organization This repository New issue Signed in as LouisTuo ðŸŽ¯ Focusing Edit status ðŸŽ¯ ðŸŽ¯ Could not update your status, please try again. 80 remaining Suggestions: ðŸŒ´ On vacation ðŸ¤’ Out sick ðŸ  Working from home ðŸŽ¯ Focusing Busy When others mention you, assign you, or request your review, GitHub will let them know that you have limited availability. Clear status Never Never Keep this status until you clear your status or edit your status. in 30 minutes in 1 hour in 4 hours today this week Set status Clear status Your profile Your repositories Your projects Your stars Your gists Help Settings Sign out Watch Notifications Not watching Be notified only when participating or @mentioned. Watch Releases only Be notified of new releases, and when participating or @mentioned. Unwatch releases Watching Be notified of all conversations. Unwatch Ignoring Never be notified. Stop ignoring 1 Unstar 0 Star 0 Fork 0 zhangjinmiao/zhangjinmiao.github.io Code Issues 0 Pull requests 0 Projects 0 Wiki Security Insights Code Issues 0 Pull requests 0 Projects 0 Wiki Security Pulse Community Permalink Tree: 444c91a5a1 Find file Copy path zhangjinmiao.github.io/_posts/mysql/2018-04-03-MysqlæŸ¥è¯¢ä¼˜åŒ–.md Find file Copy path Fetching contributors&hellip; Cannot retrieve contributors at this time 542 lines (296 sloc) 18.6 KB Raw Blame History layout title categories description keywords post MySQL æŸ¥è¯¢ä¼˜åŒ– mysql mysql æŸ¥è¯¢ä¼˜åŒ– mysql, ä¼˜åŒ– 1. æ•°æ®åº“æ€§èƒ½å‚æ•°æŸ¥è¯¢ mysql æ•°æ®åº“çš„ä¸€äº›è¿è¡ŒçŠ¶æ€show status; æŸ¥çœ‹æ“ä½œæ¬¡æ•°show status like â€˜Com_(CRUD)â€˜;æŸ¥çœ‹ mysql æ•°æ®åº“å¯åŠ¨å¤šé•¿æ—¶é—´ï¼Œmyisam å­˜å‚¨å¼•æ“Žé•¿æ—¶é—´å¯åŠ¨éœ€è¦è¿›è¡Œç¢Žç‰‡æ•´ç†show status like â€˜uptimeâ€˜;æŸ¥çœ‹æ…¢æŸ¥è¯¢show status like â€˜slow_queriesâ€˜;æŸ¥è¯¢æ…¢æŸ¥è¯¢æ—¶é—´show variables like â€˜long_query_timeâ€˜;è®¾ç½®æ…¢æŸ¥è¯¢æ—¶é—´set long_query_time = 0.5;2. æŸ¥è¯¢ä¼˜åŒ–2.1 æŸ¥çœ‹ SQL æ‰§è¡Œè®¡åˆ’ä½¿ç”¨å‘½ä»¤ï¼šEXPLAIN/DESCRIBE/DESCSELECT FROMâ€¦;2.2 æ¯ä¸ªå­—æ®µè¯´æ˜Židï¼šSELECT æ ‡è¯†ç¬¦ã€‚è¿™æ˜¯ SELECT çš„æŸ¥è¯¢åºåˆ—å·ã€‚select_typeï¼šè¡¨ç¤º SELECT è¯­å¥çš„ç±»åž‹ã€‚å®ƒå¯ä»¥æ˜¯ä»¥ä¸‹å‡ ç§å–å€¼ï¼šSIMPLEï¼šè¡¨ç¤ºç®€å•æŸ¥è¯¢ï¼Œå…¶ä¸­ä¸åŒ…æ‹¬è¿žæŽ¥æŸ¥è¯¢å’Œå­æŸ¥è¯¢ï¼›PRIMARYï¼šè¡¨ç¤ºä¸»æŸ¥è¯¢ï¼Œæˆ–è€…æœ€å¤–å±‚çš„æŸ¥è¯¢è¯­å¥ï¼›UNIONï¼šè¡¨ç¤ºè¿žæŽ¥æŸ¥è¯¢çš„ç¬¬ 2 ä¸ªæˆ–åŽé¢çš„æŸ¥è¯¢è¯­å¥ï¼›DEPENDENT UNIONï¼šè¿žæŽ¥æŸ¥è¯¢ä¸­çš„ç¬¬ 2 ä¸ªæˆ–åŽé¢çš„ SELECT è¯­å¥ï¼Œå–å†³äºŽå¤–é¢çš„æŸ¥è¯¢ï¼›UNION RESULTï¼šè¿žæŽ¥æŸ¥è¯¢çš„ç»“æžœï¼›SUBQUERYï¼šå­æŸ¥è¯¢ä¸­çš„ç¬¬ä¸€ä¸ª SELECT è¯­å¥ï¼›DEPENDENT SUBQUERYï¼šå­æŸ¥è¯¢ä¸­çš„ç¬¬ä¸€ä¸ª SELECTï¼Œå–å†³äºŽå¤–é¢çš„æŸ¥è¯¢ï¼›DERIVEDï¼šå¯¼å‡ºè¡¨çš„ SELECT (FROM è¯­å¥çš„å­æŸ¥è¯¢ï¼‰ã€‚tableï¼šè¡¨ç¤ºæŸ¥è¯¢çš„è¡¨ã€‚typeï¼šï¼ˆâ˜…é‡è¦â˜…ï¼‰è¡¨ç¤ºè¡¨çš„è¿žæŽ¥ç±»åž‹ã€‚ä¸‹é¢æŒ‰ç…§ä»Žæœ€ä½³ç±»åž‹åˆ°æœ€å·®ç±»åž‹çš„é¡ºåºç»™å‡ºå„ç§è¿žæŽ¥ç±»åž‹ï¼šè¯¥è¡¨ä»…æœ‰ä¸€è¡Œçš„ç³»ç»Ÿè¡¨ã€‚è¿™æ˜¯ const è¿žæŽ¥ç±»åž‹çš„ä¸€ä¸ªç‰¹ä¾‹ï¼Œå¹³æ—¶ä¸ä¼šå‡ºçŽ°ï¼Œè¿™ä¸ªä¹Ÿå¯ä»¥å¿½ç•¥ä¸è®¡constï¼šæ•°æ®è¡¨æœ€å¤šåªæœ‰ä¸€ä¸ªåŒ¹é…è¡Œï¼Œå®ƒå°†åœ¨æŸ¥è¯¢å¼€å§‹æ—¶è¢«è¯»å–ï¼Œå¹¶åœ¨ä½™ä¸‹çš„æŸ»è¯¢ä¼˜åŒ–ä¸­ä½œä¸ºå¸¸é‡å¯¹å¾…ã€‚const è¡¨æŸ¥è¯¢é€Ÿåº¦å¾ˆå¿«ï¼Œå› ä¸ºå®ƒä»¬åªè¯»å–ä¸€æ¬¡ã€‚const ç”¨äºŽä½¿ç”¨å¸¸æ•°å€¼æ¯”è¾ƒ PRIMARY KEY æˆ– UNIQUE ç´¢å¼•çš„æ‰€æœ‰éƒ¨åˆ†çš„åœºåˆã€‚åœ¨ä¸‹é¢æŸ¥è¯¢ä¸­ï¼Œtb1_name å¯ç”¨ const è¡¨ï¼šSELECT from tb1_name WHERE primary_key=1;SELECT from tb1_name WHERE primary_key_part1=1 AND primary_key_part2=2â€‹eq_refmysql æ‰‹å†Œæ˜¯è¿™æ ·è¯´çš„:â€å¯¹äºŽæ¯ä¸ªæ¥è‡ªäºŽå‰é¢çš„è¡¨çš„è¡Œç»„åˆï¼Œä»Žè¯¥è¡¨ä¸­è¯»å–ä¸€è¡Œã€‚è¿™å¯èƒ½æ˜¯æœ€å¥½çš„è”æŽ¥ç±»åž‹ï¼Œé™¤äº† const ç±»åž‹ã€‚å®ƒç”¨åœ¨ä¸€ä¸ªç´¢å¼•çš„æ‰€æœ‰éƒ¨åˆ†è¢«è”æŽ¥ä½¿ç”¨å¹¶ä¸”ç´¢å¼•æ˜¯ UNIQUE æˆ– PRIMARY KEYâ€ã€‚eq_ref å¯ä»¥ç”¨äºŽä½¿ç”¨=æ¯”è¾ƒå¸¦ç´¢å¼•çš„åˆ—ã€‚åœ¨ä¸‹é¢ä¾‹å­ä¸­ï¼ŒMySQL å¯ä»¥ä½¿ç”¨ eq_ref æ¥å¤„ç† ref_tablesï¼š SELECT FROM ref_table,other_table WHERE ref_table.key_cloumn = other_table.cloumn; SELECT FROM ref_table, other_tbale WHERE ref_table.key_cloumn_part1 = other_table.cloumn AND ref_table.key_cloumn_part2 = 1;refå¯¹äºŽæ¥è‡ªå‰é¢çš„è¡¨çš„ä»»æ„ç»„åˆï¼Œå°†ä»Žè¯¥è¡¨ä¸­è¯»å–æ‰€æœ‰åŒ¹é…çš„è¡Œã€‚è¿™ç§ç±»åž‹ç”¨äºŽç´¢å¼•æ—¢ä¸æ˜¯ UNIQUE ä¹Ÿä¸æ˜¯ PRIMARY KEY çš„æƒ…å†µï¼Œæˆ–è€…æŸ¥è¯¢ä¸­ä½¿ç”¨äº†ç´¢å¼•åˆ—åœ¨å·¦å­é›†ï¼Œæ—¢ç´¢å¼•ä¸­å·¦è¾¹çš„éƒ¨åˆ†åˆ—ç»„åˆã€‚ref å¯ä»¥ç”¨äºŽä½¿ç”¨=æˆ–è€…&lt;=&gt;æ“ä½œç¬¦çš„å¸¦ç´¢å¼•çš„åˆ—ã€‚ä»¥ä¸‹çš„å‡ ä¸ªä¾‹å­ä¸­ï¼Œmysql å°†ä½¿ç”¨ ref æ¥å¤„ç† ref_tableï¼šselect from ref_table where key_column=expr;select from ref_table,other_table where ref_table.key_column=other_table.column;select from ref_table,other_table where ref_table.key_column_part1=other_table.column and ref_table.key_column_part2=1;ref_or_nullè¿™ç§è¿žæŽ¥ç±»åž‹ç±»ä¼¼ refï¼Œä¸åŒçš„æ˜¯ mysql ä¼šåœ¨æ£€ç´¢çš„æ—¶å€™é¢å¤–çš„æœç´¢åŒ…å« null å€¼çš„è®°å½•ã€‚åœ¨è§£å†³å­æŸ¥è¯¢ä¸­ç»å¸¸ä½¿ç”¨è¯¥é“¾æŽ¥ç±»åž‹çš„ä¼˜åŒ–ã€‚åœ¨ä»¥ä¸‹çš„ä¾‹å­ä¸­ï¼Œmysql ä½¿ç”¨ ref_or_null ç±»åž‹æ¥å¤„ç† ref_tableï¼šselect from ref_table where key_column=expr or key_column is null;ä¸Šé¢è¿™äº”ç§æƒ…å†µéƒ½æ˜¯å¾ˆç†æƒ³çš„ç´¢å¼•ä½¿ç”¨æƒ…å†µã€‚index_mergeè¯¥é“¾æŽ¥ç±»åž‹è¡¨ç¤ºä½¿ç”¨äº†ç´¢å¼•åˆå¹¶ä¼˜åŒ–æ–¹æ³•ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œkey åˆ—åŒ…å«äº†ä½¿ç”¨çš„ç´¢å¼•çš„æ¸…å•ï¼Œkey_len åŒ…å«äº†ä½¿ç”¨çš„ç´¢å¼•çš„æœ€é•¿çš„å…³é”®å…ƒç´ ã€‚unique_subqueryè¯¥ç±»åž‹æ›¿æ¢äº†ä¸‹é¢å½¢å¼çš„ IN å­æŸ¥è¯¢çš„ refï¼švalue in (select primary_key from single_table where some_expr)index_subqueryè¿™ç§è¿žæŽ¥ç±»åž‹ç±»ä¼¼ unique_subqueryã€‚å¯ä»¥æ›¿æ¢ IN å­æŸ¥è¯¢ï¼Œä¸è¿‡å®ƒç”¨äºŽåœ¨å­æŸ¥è¯¢ä¸­æ²¡æœ‰å”¯ä¸€ç´¢å¼•çš„æƒ…å†µä¸‹ï¼Œä¾‹å¦‚ä»¥ä¸‹å½¢å¼ï¼švalue in (select key_column from single_table where some_expr)rangeåªæ£€ç´¢ç»™å®šèŒƒå›´çš„è¡Œï¼Œä½¿ç”¨ä¸€ä¸ªç´¢å¼•æ¥é€‰æ‹©è¡Œã€‚key åˆ—æ˜¾ç¤ºä½¿ç”¨äº†å“ªä¸ªç´¢å¼•ã€‚ken_len åŒ…å«æ‰€ä½¿ç”¨ç´¢å¼•çš„æœ€é•¿å…³é”®å…ƒç´ ã€‚å½“ä½¿ç”¨ =, &lt;&gt;, &gt;,&gt;=, &lt;, &lt;=, is null, &lt;=&gt;, between, æˆ– in æ“ä½œç¬¦ï¼Œç”¨å¸¸é‡æ¯”è¾ƒå…³é”®å­—åˆ—æ—¶ï¼Œç±»åž‹ä¸º rangeã€‚ä¸‹é¢ä»‹ç»å‡ ç§æ£€ç´¢åˆ¶å®šè¡Œçš„æƒ…å†µï¼šselect from tbl_name where key_column = 10;select from tbl_name where key_column between 10 and 20;select from tbl_name where key_column in (10,20,30);select from tbl_name where key_part1= 10 and key_part2 in (10,20,30);â€‹indexè¿žæŽ¥ç±»åž‹è·Ÿ ALL ä¸€æ ·ï¼Œä¸åŒçš„æ˜¯å®ƒåªæ‰«æç´¢å¼•æ ‘ã€‚å®ƒé€šå¸¸ä¼šæ¯” ALL å¿«ç‚¹ï¼Œå› ä¸ºç´¢å¼•æ–‡ä»¶é€šå¸¸æ¯”æ•°æ®æ–‡ä»¶å°ã€‚ALL ï¼ˆæ€§èƒ½æœ€å·®ï¼‰å¯¹äºŽå‰é¢çš„è¡¨çš„ä»»æ„è¡Œç»„åˆï¼Œè¿›è¡Œå®Œæ•´çš„è¡¨æ‰«æã€‚å¦‚æžœç¬¬ä¸€ä¸ªè¡¨æ²¡æœ‰è¢«æ ‡è¯†ä¸º const çš„è¯å°±ä¸å¤§å¥½äº†ï¼Œåœ¨å…¶ä»–æƒ…å†µä¸‹é€šå¸¸æ˜¯éžå¸¸ç³Ÿç³•çš„ã€‚æ­£å¸¸åœ°ï¼Œå¯ä»¥é€šè¿‡å¢žåŠ ç´¢å¼•ä½¿å¾—èƒ½ä»Žè¡¨ä¸­æ›´å¿«çš„å–å¾—è®°å½•ä»¥é¿å… ALLã€‚possible_keyspossible_keys å­—æ®µæ˜¯æŒ‡ MySQL åœ¨æœç´¢è¡¨è®°å½•æ—¶å¯èƒ½ä½¿ç”¨å“ªä¸ªç´¢å¼•ã€‚å¦‚æžœè¿™ä¸ªå­—æ®µçš„å€¼æ˜¯ NULLï¼Œå°±è¡¨ç¤ºæ²¡æœ‰ç´¢å¼•è¢«ç”¨åˆ°ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œå°±å¯ä»¥æ£€æŸ¥ WHERE å­å¥ä¸­å“ªäº›å­—æ®µå“ªäº›å­—æ®µé€‚åˆå¢žåŠ ç´¢å¼•ä»¥æé«˜æŸ¥è¯¢çš„æ€§èƒ½ã€‚åˆ›å»ºä¸€ä¸‹ç´¢å¼•ï¼Œç„¶åŽå†ç”¨ explain æ£€æŸ¥ä¸€ä¸‹ã€‚keykey å­—æ®µæ˜¾ç¤ºäº† MySQL å®žé™…ä¸Šè¦ç”¨çš„ç´¢å¼•ã€‚å½“æ²¡æœ‰ä»»ä½•ç´¢å¼•è¢«ç”¨åˆ°çš„æ—¶å€™ï¼Œè¿™ä¸ªå­—æ®µçš„å€¼å°±æ˜¯ NULLã€‚æƒ³è¦è®© MySQL å¼ºè¡Œä½¿ç”¨æˆ–è€…å¿½ç•¥åœ¨ possible_keys å­—æ®µä¸­çš„ç´¢å¼•åˆ—è¡¨ï¼Œå¯ä»¥åœ¨æŸ¥è¯¢è¯­å¥ä¸­ä½¿ç”¨å…³é”®å­— force index, use index æˆ– ignore indexã€‚å‚è€ƒ SELECT è¯­æ³•ã€‚key_lenâ€‹key_len å­—æ®µæ˜¾ç¤ºäº† mysql ä½¿ç”¨ç´¢å¼•çš„é•¿åº¦ã€‚å½“ key å­—æ®µçš„å€¼ä¸º NULL æ—¶ï¼Œç´¢å¼•çš„é•¿åº¦å°±æ˜¯ NULLã€‚æ³¨æ„ï¼Œkey_len çš„å€¼å¯ä»¥å‘Šè¯‰ä½ åœ¨è”åˆç´¢å¼•ä¸­ MySQL ä¼šçœŸæ­£ä½¿ç”¨äº†å“ªäº›ç´¢å¼•ã€‚refâ€‹è¡¨ç¤ºä½¿ç”¨å“ªä¸ªåˆ—æˆ–å¸¸æ•°ä¸Žç´¢å¼•ä¸€èµ·æ¥æŸ¥è¯¢è®°å½•ã€‚rowsæ˜¾ç¤º MySQL åœ¨è¡¨ä¸­è¿›è¡ŒæŸ¥è¯¢æ—¶å¿…é¡»æ£€æŸ¥çš„è¡Œæ•°ã€‚Extraæœ¬å­—æ®µæ˜¾ç¤ºäº†æŸ¥è¯¢ä¸­ mysql çš„é™„åŠ ä¿¡æ¯ã€‚ä»¥ä¸‹æ˜¯è¿™ä¸ªå­—æ®µçš„å‡ ä¸ªä¸åŒå€¼çš„è§£é‡Šï¼šdistinctMySQL å½“æ‰¾åˆ°å½“å‰è®°å½•çš„åŒ¹é…è”åˆç»“æžœçš„ç¬¬ä¸€æ¡è®°å½•ä¹‹åŽï¼Œå°±ä¸å†æœç´¢å…¶ä»–è®°å½•äº†ã€‚not existsMySQL åœ¨æŸ¥è¯¢æ—¶åšä¸€ä¸ª LEFT JOIN ä¼˜åŒ–æ—¶ï¼Œå½“å®ƒåœ¨å½“å‰è¡¨ä¸­æ‰¾åˆ°äº†å’Œå‰ä¸€æ¡è®°å½•ç¬¦åˆ LEFT JOIN æ¡ä»¶åŽï¼Œå°±ä¸å†æœç´¢æ›´å¤šçš„è®°å½•äº†ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªè¿™ç§ç±»åž‹çš„æŸ¥è¯¢ä¾‹å­ï¼šselect from t1 left join t2 on t1.id=t2.id where t2.id is null;å‡ä½¿ t2.id å®šä¹‰ä¸º not nullã€‚è¿™ç§æƒ…å†µä¸‹ï¼ŒMySQL å°†ä¼šæ‰«æè¡¨ t1 å¹¶ä¸”ç”¨ t1.id çš„å€¼åœ¨ t2 ä¸­æŸ¥æ‰¾è®°å½•ã€‚å½“åœ¨ t2 ä¸­æ‰¾åˆ°ä¸€æ¡åŒ¹é…çš„è®°å½•æ—¶ï¼Œè¿™å°±æ„å‘³ç€ t2.id è‚¯å®šä¸ä¼šéƒ½æ˜¯ nullï¼Œå°±ä¸ä¼šå†åœ¨ t2 ä¸­æŸ¥æ‰¾ç›¸åŒ id å€¼çš„å…¶ä»–è®°å½•äº†ã€‚ä¹Ÿå¯ä»¥è¿™ä¹ˆè¯´ï¼Œå¯¹äºŽ t1 ä¸­çš„æ¯ä¸ªè®°å½•ï¼Œmysql åªéœ€è¦åœ¨ t2 ä¸­åšä¸€æ¬¡æŸ¥æ‰¾ï¼Œè€Œä¸ç®¡åœ¨ t2 ä¸­å®žé™…æœ‰å¤šå°‘åŒ¹é…çš„è®°å½•ã€‚range checked for each record (index map: #)MySQL æ²¡æ‰¾åˆ°åˆé€‚çš„å¯ç”¨çš„ç´¢å¼•ã€‚å–ä»£çš„åŠžæ³•æ˜¯ï¼Œå¯¹äºŽå‰ä¸€ä¸ªè¡¨çš„æ¯ä¸€ä¸ªè¡Œè¿žæŽ¥ï¼Œå®ƒä¼šåšä¸€ä¸ªæ£€éªŒä»¥å†³å®šè¯¥ä½¿ç”¨å“ªä¸ªç´¢å¼•ï¼ˆå¦‚æžœæœ‰çš„è¯ï¼‰ï¼Œå¹¶ä¸”ä½¿ç”¨è¿™ä¸ªç´¢å¼•æ¥ä»Žè¡¨é‡Œå–å¾—è®°å½•ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸ä¼šå¾ˆå¿«ï¼Œä½†æ€»æ¯”æ²¡æœ‰ä»»ä½•ç´¢å¼•æ—¶åšè¡¨è¿žæŽ¥æ¥å¾—å¿«ã€‚using filesortMySQL éœ€è¦é¢å¤–çš„åšä¸€éä»Žå·²æŽ’å¥½çš„é¡ºåºå–å¾—è®°å½•ã€‚æŽ’åºç¨‹åºæ ¹æ®è¿žæŽ¥çš„ç±»åž‹éåŽ†æ‰€æœ‰çš„è®°å½•ï¼Œå¹¶ä¸”å°†æ‰€æœ‰ç¬¦åˆ where æ¡ä»¶çš„è®°å½•çš„è¦æŽ’åºçš„é”®å’ŒæŒ‡å‘è®°å½•çš„æŒ‡é’ˆå­˜å‚¨èµ·æ¥ã€‚è¿™äº›é”®å·²ç»æŽ’å®Œåºäº†ï¼Œå¯¹åº”çš„è®°å½•ä¹Ÿä¼šæŒ‰ç…§æŽ’å¥½çš„é¡ºåºå–å‡ºæ¥ã€‚using indexå­—æ®µçš„ä¿¡æ¯ç›´æŽ¥ä»Žç´¢å¼•æ ‘ä¸­çš„ä¿¡æ¯å–å¾—ï¼Œè€Œä¸å†åŽ»æ‰«æå®žé™…çš„è®°å½•ã€‚è¿™ç§ç­–ç•¥ç”¨äºŽæŸ¥è¯¢æ—¶çš„å­—æ®µæ˜¯ä¸€ä¸ªç‹¬ç«‹ç´¢å¼•çš„ä¸€éƒ¨åˆ†ã€‚using temporaryMySQL éœ€è¦åˆ›å»ºä¸´æ—¶è¡¨å­˜å‚¨ç»“æžœä»¥å®ŒæˆæŸ¥è¯¢ã€‚è¿™ç§æƒ…å†µé€šå¸¸å‘ç”Ÿåœ¨æŸ¥è¯¢æ—¶åŒ…å«äº† group by å’Œ order by å­å¥ï¼Œå®ƒä»¥ä¸åŒçš„æ–¹å¼åˆ—å‡ºäº†å„ä¸ªå­—æ®µã€‚using wherewhere å­å¥å°†ç”¨æ¥é™åˆ¶å“ªäº›è®°å½•åŒ¹é…äº†ä¸‹ä¸€ä¸ªè¡¨æˆ–è€…å‘é€ç»™å®¢æˆ·ç«¯ã€‚é™¤éžä½ ç‰¹åˆ«åœ°æƒ³è¦å–å¾—æˆ–è€…æ£€æŸ¥è¡¨ä¸­çš„æ‰€æœ‰è®°å½•ï¼Œå¦åˆ™çš„è¯å½“æŸ¥è¯¢çš„ extra å­—æ®µå€¼ä¸æ˜¯ using where å¹¶ä¸”è¡¨è¿žæŽ¥ç±»åž‹æ˜¯ all æˆ– index æ—¶å¯èƒ½è¡¨ç¤ºæœ‰é—®é¢˜ã€‚Using sort_union(â€¦), Using union(â€¦), Using intersect(â€¦)è¿™äº›å‡½æ•°è¯´æ˜Žå¦‚ä½•ä¸º index_merge è”æŽ¥ç±»åž‹åˆå¹¶ç´¢å¼•æ‰«æï¿½Using index for group-byç±»ä¼¼äºŽè®¿é—®è¡¨çš„ Using index æ–¹å¼,Using index for group-by è¡¨ç¤º MySQL å‘çŽ°äº†ä¸€ä¸ªç´¢å¼•,å¯ä»¥ç”¨æ¥æŸ¥ è¯¢ GROUP BY æˆ– DISTINCT æŸ¥è¯¢çš„æ‰€æœ‰åˆ—,è€Œä¸è¦é¢å¤–æœç´¢ç¡¬ç›˜è®¿é—®å®žé™…çš„è¡¨ã€‚å¦‚æžœä½ æƒ³è¦è®©æŸ¥è¯¢å°½å¯èƒ½çš„å¿«ï¼Œé‚£ä¹ˆå°±åº”è¯¥æ³¨æ„ extra å­—æ®µçš„å€¼ä¸º using filesort å’Œ using temporary çš„æƒ…å†µã€‚ è¯´æ˜Ž SQL éœ€è¦ä¼˜åŒ–äº†ã€‚2.3 ä½¿ç”¨ç´¢å¼•æŸ¥è¯¢éœ€è¦æ³¨æ„ç´¢å¼•å¯ä»¥æä¾›æŸ¥è¯¢çš„é€Ÿåº¦ï¼Œä½†å¹¶ä¸æ˜¯ä½¿ç”¨äº†å¸¦æœ‰ç´¢å¼•çš„å­—æ®µæŸ¥è¯¢éƒ½ä¼šç”Ÿæ•ˆï¼Œæœ‰äº›æƒ…å†µä¸‹æ˜¯ä¸ç”Ÿæ•ˆçš„ï¼Œéœ€è¦æ³¨æ„ã€‚2.3.1 ä½¿ç”¨ LIKE å…³é”®å­—çš„æŸ¥è¯¢åœ¨ä½¿ç”¨ LIKE å…³é”®å­—è¿›è¡ŒæŸ¥è¯¢çš„æŸ¥è¯¢è¯­å¥ä¸­ï¼Œå¦‚æžœåŒ¹é…å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸ºâ€œ%â€ï¼Œç´¢å¼•ä¸èµ·ä½œç”¨ã€‚åªæœ‰â€œ%â€ä¸åœ¨ç¬¬ä¸€ä¸ªä½ç½®ï¼Œç´¢å¼•æ‰ä¼šç”Ÿæ•ˆã€‚2.3.2 ä½¿ç”¨è”åˆç´¢å¼•çš„æŸ¥è¯¢MySQL å¯ä»¥ä¸ºå¤šä¸ªå­—æ®µåˆ›å»ºç´¢å¼•ï¼Œä¸€ä¸ªç´¢å¼•å¯ä»¥åŒ…æ‹¬ 16 ä¸ªå­—æ®µã€‚å¯¹äºŽè”åˆç´¢å¼•ï¼Œåªæœ‰æŸ¥è¯¢æ¡ä»¶ä¸­ä½¿ç”¨äº†è¿™äº›å­—æ®µä¸­ç¬¬ä¸€ä¸ªå­—æ®µæ—¶ï¼Œç´¢å¼•æ‰ä¼šç”Ÿæ•ˆã€‚2.3.3 ä½¿ç”¨ OR å…³é”®å­—çš„æŸ¥è¯¢æŸ¥è¯¢è¯­å¥çš„æŸ¥è¯¢æ¡ä»¶ä¸­åªæœ‰ OR å…³é”®å­—ï¼Œä¸” OR å‰åŽçš„ä¸¤ä¸ªæ¡ä»¶ä¸­çš„åˆ—éƒ½æ˜¯ç´¢å¼•æ—¶ï¼Œç´¢å¼•æ‰ä¼šç”Ÿæ•ˆï¼Œå¦åˆ™ï¼Œç´¢å¼•ä¸ç”Ÿæ•ˆã€‚2.4 å­æŸ¥è¯¢ä¼˜åŒ–MySQL ä»Ž 4.1 ç‰ˆæœ¬å¼€å§‹æ”¯æŒå­æŸ¥è¯¢ï¼Œä½¿ç”¨å­æŸ¥è¯¢è¿›è¡Œ SELECT è¯­å¥åµŒå¥—æŸ¥è¯¢ï¼Œå¯ä»¥ä¸€æ¬¡å®Œæˆå¾ˆå¤šé€»è¾‘ä¸Šéœ€è¦å¤šä¸ªæ­¥éª¤æ‰èƒ½å®Œæˆçš„ SQL æ“ä½œã€‚å­æŸ¥è¯¢è™½ç„¶å¾ˆçµæ´»ï¼Œä½†æ˜¯æ‰§è¡Œæ•ˆçŽ‡å¹¶ä¸é«˜ã€‚æ‰§è¡Œå­æŸ¥è¯¢æ—¶ï¼ŒMYSQL éœ€è¦åˆ›å»ºä¸´æ—¶è¡¨ï¼ŒæŸ¥è¯¢å®Œæ¯•åŽå†åˆ é™¤è¿™äº›ä¸´æ—¶è¡¨ï¼Œæ‰€ä»¥ï¼Œå­æŸ¥è¯¢çš„é€Ÿåº¦ä¼šå—åˆ°ä¸€å®šçš„å½±å“ã€‚ ä¼˜åŒ–ï¼šå¯ä»¥ä½¿ç”¨è¿žæŽ¥æŸ¥è¯¢ï¼ˆJOINï¼‰ä»£æ›¿å­æŸ¥è¯¢ï¼Œè¿žæŽ¥æŸ¥è¯¢æ—¶ä¸éœ€è¦å»ºç«‹ä¸´æ—¶è¡¨ï¼Œå…¶é€Ÿåº¦æ¯”å­æŸ¥è¯¢å¿«ã€‚3. æ•°æ®åº“ç»“æž„ä¼˜åŒ–ä¸€ä¸ªå¥½çš„æ•°æ®åº“è®¾è®¡æ–¹æ¡ˆå¯¹äºŽæ•°æ®åº“çš„æ€§èƒ½å¾€å¾€ä¼šèµ·åˆ°äº‹åŠåŠŸå€çš„æ•ˆæžœã€‚éœ€è¦è€ƒè™‘æ•°æ®å†—ä½™ã€æŸ¥è¯¢å’Œæ›´æ–°çš„é€Ÿåº¦ã€å­—æ®µçš„æ•°æ®ç±»åž‹æ˜¯å¦åˆç†ç­‰å¤šæ–¹é¢çš„å†…å®¹ã€‚3.1 å°†å­—æ®µå¾ˆå¤šçš„è¡¨åˆ†è§£æˆå¤šä¸ªè¡¨å¯¹äºŽå­—æ®µè¾ƒå¤šçš„è¡¨ï¼Œå¦‚æžœæœ‰äº›å­—æ®µçš„ä½¿ç”¨é¢‘çŽ‡å¾ˆä½Žï¼Œå¯ä»¥å°†è¿™äº›å­—æ®µåˆ†ç¦»å‡ºæ¥å½¢æˆæ–°è¡¨ã€‚å› ä¸ºå½“ä¸€ä¸ªè¡¨çš„æ•°æ®é‡å¾ˆå¤§æ—¶ï¼Œä¼šç”±äºŽä½¿ç”¨é¢‘çŽ‡ä½Žçš„å­—æ®µçš„å­˜åœ¨è€Œå˜æ…¢ã€‚3.2 å¢žåŠ ä¸­é—´è¡¨å¯¹äºŽéœ€è¦ç»å¸¸è”åˆæŸ¥è¯¢çš„è¡¨ï¼Œå¯ä»¥å»ºç«‹ä¸­é—´è¡¨ä»¥æé«˜æŸ¥è¯¢æ•ˆçŽ‡ã€‚é€šè¿‡å»ºç«‹ä¸­é—´è¡¨ï¼Œå°†éœ€è¦é€šè¿‡è”åˆæŸ¥è¯¢çš„æ•°æ®æ’å…¥åˆ°ä¸­é—´è¡¨ä¸­ï¼Œç„¶åŽå°†åŽŸæ¥çš„è”åˆæŸ¥è¯¢æ”¹ä¸ºå¯¹ä¸­é—´è¡¨çš„æŸ¥è¯¢ã€‚3.3 å¢žåŠ å†—ä½™å­—æ®µè®¾è®¡æ•°æ®è¡¨æ—¶åº”å°½é‡éµå¾ªèŒƒå¼ç†è®ºçš„è§„çº¦ï¼Œå°½å¯èƒ½çš„å‡å°‘å†—ä½™å­—æ®µï¼Œè®©æ•°æ®åº“è®¾è®¡çœ‹èµ·æ¥ç²¾è‡´ã€ä¼˜é›…ã€‚ä½†æ˜¯ï¼Œåˆç†çš„åŠ å…¥å†—ä½™å­—æ®µå¯ä»¥æé«˜æŸ¥è¯¢é€Ÿåº¦ã€‚è¡¨çš„è§„èŒƒåŒ–ç¨‹åº¦è¶Šé«˜ï¼Œè¡¨å’Œè¡¨ä¹‹é—´çš„å…³ç³»è¶Šå¤šï¼Œéœ€è¦è¿žæŽ¥æŸ¥è¯¢çš„æƒ…å†µä¹Ÿå°±è¶Šå¤šï¼Œæ€§èƒ½ä¹Ÿå°±è¶Šå·®ã€‚æ³¨æ„ï¼šå†—ä½™å­—æ®µçš„å€¼åœ¨ä¸€ä¸ªè¡¨ä¸­ä¿®æ”¹ï¼Œå°±è¦æƒ³åŠžæ³•åœ¨å…¶ä»–è¡¨ä¸­æ›´æ–°ï¼Œå¦åˆ™å°±ä¼šå¯¼è‡´æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ã€‚4. æ’å…¥æ•°æ®çš„ä¼˜åŒ–æ’å…¥æ•°æ®æ—¶ï¼Œå½±å“æ’å…¥é€Ÿåº¦çš„ä¸»è¦æ˜¯ç´¢å¼•ã€å”¯ä¸€æ€§æ ¡éªŒã€ä¸€æ¬¡æ’å…¥çš„æ•°æ®æ¡æ•°ç­‰ã€‚ æ’å…¥æ•°æ®çš„ä¼˜åŒ–ï¼Œä¸åŒçš„å­˜å‚¨å¼•æ“Žä¼˜åŒ–æ‰‹æ®µä¸ä¸€æ ·ï¼Œåœ¨ MySQL ä¸­å¸¸ç”¨çš„å­˜å‚¨å¼•æ“Žæœ‰ï¼ŒMyISAM å’Œ InnoDBï¼Œä¸¤è€…çš„åŒºåˆ«ï¼šå‚è€ƒï¼šhttp://www.cnblogs.com/panfeng412/archive/2011/08/16/2140364.html4.1 MyISAM4.1.1 ç¦ç”¨ç´¢å¼•å¯¹äºŽéžç©ºè¡¨ï¼Œæ’å…¥è®°å½•æ—¶ï¼ŒMySQL ä¼šæ ¹æ®è¡¨çš„ç´¢å¼•å¯¹æ’å…¥çš„è®°å½•å»ºç«‹ç´¢å¼•ã€‚å¦‚æžœæ’å…¥å¤§é‡æ•°æ®ï¼Œå»ºç«‹ç´¢å¼•ä¼šé™ä½Žæ’å…¥æ•°æ®é€Ÿåº¦ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥åœ¨æ‰¹é‡æ’å…¥æ•°æ®ä¹‹å‰ç¦ç”¨ç´¢å¼•ï¼Œæ•°æ®æ’å…¥å®ŒæˆåŽå†å¼€å¯ç´¢å¼•ã€‚ç¦ç”¨ç´¢å¼•çš„è¯­å¥ï¼šALTER TABLE table_name DISABLE KEYSå¼€å¯ç´¢å¼•è¯­å¥ï¼šALTER TABLE table_name ENABLE KEYSå¯¹äºŽç©ºè¡¨æ‰¹é‡æ’å…¥æ•°æ®ï¼Œåˆ™ä¸éœ€è¦è¿›è¡Œæ“ä½œï¼Œå› ä¸º MyISAM å¼•æ“Žçš„è¡¨æ˜¯åœ¨å¯¼å…¥æ•°æ®åŽæ‰å»ºç«‹ç´¢å¼•ã€‚4.1.2 ç¦ç”¨å”¯ä¸€æ€§æ£€æŸ¥å”¯ä¸€æ€§æ ¡éªŒä¼šé™ä½Žæ’å…¥è®°å½•çš„é€Ÿåº¦ï¼Œå¯ä»¥åœ¨æ’å…¥è®°å½•ä¹‹å‰ç¦ç”¨å”¯ä¸€æ€§æ£€æŸ¥ï¼Œæ’å…¥æ•°æ®å®ŒæˆåŽå†å¼€å¯ã€‚ ç¦ç”¨å”¯ä¸€æ€§æ£€æŸ¥çš„è¯­å¥ï¼šSET UNIQUE_CHECKS = 0; å¼€å¯å”¯ä¸€æ€§æ£€æŸ¥çš„è¯­å¥:SET UNIQUE_CHECKS = 1;4.1.3 æ‰¹é‡æ’å…¥æ•°æ®æ’å…¥æ•°æ®æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ä¸€æ¡ INSERT è¯­å¥æ’å…¥ä¸€æ¡æ•°æ®ï¼Œä¹Ÿå¯ä»¥æ’å…¥å¤šæ¡æ•°æ®ã€‚ç¬¬äºŒç§æ–¹å¼çš„æ’å…¥é€Ÿåº¦æ¯”ç¬¬ä¸€ç§æ–¹å¼å¿«ã€‚4.1.4 ä½¿ç”¨ LOAD DATA INFILEå½“éœ€è¦æ‰¹é‡å¯¼å…¥æ•°æ®æ—¶ï¼Œä½¿ç”¨ LOAD DATA INFILE è¯­å¥æ¯” INSERT è¯­å¥æ’å…¥é€Ÿåº¦å¿«å¾ˆå¤šã€‚4.2 InnoDB4.2.1 ç¦ç”¨å”¯ä¸€æ€§æ£€æŸ¥ç”¨æ³•å’Œ MyISAM ä¸€æ ·ã€‚4.2.2 ç¦ç”¨å¤–é”®æ£€æŸ¥æ’å…¥æ•°æ®ä¹‹å‰æ‰§è¡Œç¦æ­¢å¯¹å¤–é”®çš„æ£€æŸ¥ï¼Œæ•°æ®æ’å…¥å®ŒæˆåŽå†æ¢å¤ï¼Œå¯ä»¥æä¾›æ’å…¥é€Ÿåº¦ã€‚ç¦ç”¨ï¼šSET foreign_key_checks = 0;å¼€å¯ï¼šSET foreign_key_checks = 1;4.2.3 ç¦æ­¢è‡ªåŠ¨æäº¤æ’å…¥æ•°æ®ä¹‹å‰æ‰§è¡Œç¦æ­¢äº‹åŠ¡çš„è‡ªåŠ¨æäº¤ï¼Œæ•°æ®æ’å…¥å®ŒæˆåŽå†æ¢å¤ï¼Œå¯ä»¥æé«˜æ’å…¥é€Ÿåº¦ã€‚ ç¦ç”¨ï¼šSET autocommit = 0;å¼€å¯ï¼šSET autocommit = 1;5. æœåŠ¡å™¨ä¼˜åŒ–5.1 ä¼˜åŒ–æœåŠ¡å™¨ç¡¬ä»¶æœåŠ¡å™¨çš„ç¡¬ä»¶æ€§èƒ½ç›´æŽ¥å†³å®šç€ MySQL æ•°æ®åº“çš„æ€§èƒ½ï¼Œç¡¬ä»¶çš„æ€§èƒ½ç“¶é¢ˆï¼Œç›´æŽ¥å†³å®š MySQL æ•°æ®åº“çš„è¿è¡Œé€Ÿåº¦å’Œæ•ˆçŽ‡ã€‚ éœ€è¦ä»Žä»¥ä¸‹å‡ ä¸ªæ–¹é¢è€ƒè™‘ï¼š1ã€ é…ç½®è¾ƒå¤§çš„å†…å­˜ã€‚è¶³å¤Ÿå¤§çš„å†…å­˜ï¼Œæ˜¯æé«˜ MySQL æ•°æ®åº“æ€§èƒ½çš„æ–¹æ³•ä¹‹ä¸€ã€‚å†…å­˜çš„ IO æ¯”ç¡¬ç›˜å¿«çš„å¤šï¼Œå¯ä»¥å¢žåŠ ç³»ç»Ÿçš„ç¼“å†²åŒºå®¹é‡ï¼Œä½¿æ•°æ®åœ¨å†…å­˜åœç•™çš„æ—¶é—´æ›´é•¿ï¼Œä»¥å‡å°‘ç£ç›˜çš„ IOã€‚2ã€ é…ç½®é«˜é€Ÿç£ç›˜ï¼Œæ¯”å¦‚ SSDã€‚3ã€ åˆç†åˆ†é…ç£ç›˜ IOï¼ŒæŠŠç£ç›˜ IO åˆ†æ•£åˆ°å¤šä¸ªè®¾å¤‡ä¸Šï¼Œä»¥å‡å°‘èµ„æºçš„ç«žäº‰ï¼Œæé«˜å¹¶è¡Œæ“ä½œèƒ½åŠ›ã€‚4ã€ é…ç½®å¤šæ ¸å¤„ç†å™¨ï¼ŒMySQL æ˜¯å¤šçº¿ç¨‹çš„æ•°æ®åº“ï¼Œå¤šå¤„ç†å™¨å¯ä»¥æé«˜åŒæ—¶æ‰§è¡Œå¤šä¸ªçº¿ç¨‹çš„èƒ½åŠ›ã€‚5.2 ä¼˜åŒ– MySQL å‚æ•°é€šè¿‡ä¼˜åŒ– MySQL çš„å‚æ•°å¯ä»¥æé«˜èµ„æºåˆ©ç”¨çŽ‡ï¼Œä»Žè€Œè¾¾åˆ°æé«˜ MySQL æœåŠ¡å™¨æ€§èƒ½çš„ç›®çš„ã€‚MySQL çš„é…ç½®å‚æ•°éƒ½åœ¨ my.conf æˆ–è€… my.ini æ–‡ä»¶çš„ [mysqld] ç»„ä¸­ï¼Œå¸¸ç”¨çš„å‚æ•°å¦‚ä¸‹ï¼š6. ä¼˜åŒ– LIMIT åˆ†é¡µåœ¨åˆ†é¡µåç§»é‡å¾ˆå¤§çš„æ—¶å€™ï¼Œå¦‚ LIMIT 10000,20 è¿™æ ·çš„æŸ¥è¯¢ï¼ŒMySQL éœ€è¦æŸ¥è¯¢ 10020 æ¡è®°å½•ç„¶åŽåªè¿”å›žæœ€åŽ 20 æ¡ï¼Œå‰é¢ 10000 æ¡è®°å½•éƒ½è¢«æŠ›å¼ƒï¼Œè¿™æ ·ä»£ä»·éžå¸¸é«˜ã€‚ä¼˜åŒ–çš„æœ€ç®€å•çš„åŠžæ³•å°±æ˜¯å°½å¯èƒ½åœ°ä½¿ç”¨ç´¢å¼•è¦†ç›–æ‰«æï¼Œè€Œä¸æ˜¯æŸ¥è¯¢æ‰€æœ‰çš„åˆ—ã€‚ç„¶åŽæ ¹æ®éœ€è¦åšä¸€æ¬¡å…³è”æ“ä½œå†è¿”å›žæ‰€éœ€çš„åˆ—ï¼Œå¯¹äºŽåç§»é‡å¾ˆå¤§çš„æ—¶å€™ï¼Œè¿™æ ·åšçš„æ•ˆçŽ‡å›žæå‡å¾ˆå¤§ï¼Œå¦‚ä¸‹ï¼šSELECT file_id, description FROM film ORDER BY title LIMIT 50, 5;ä¿®æ”¹ä¸ºï¼šSELECT film.film_id, film.description FROM filmINNER JOIN (SELCT film_id FROM film ORDER BY title LIMIT 50, 5) AS lim USING(film_id);è¿™é‡Œâ€œå»¶è¿Ÿå…³è”â€å°†å¤§å¤§æå‡æŸ¥è¯¢æ•ˆçŽ‡ï¼Œå®ƒè®© MySQL æ‰«æå°½å¯èƒ½å°‘çš„é¡µé¢ï¼ŒèŽ·å–éœ€è¦è®¿é—®çš„è®°å½•åŽåœ¨æ ¹æ®å…³è”åˆ—å›žåŽŸè¡¨æŸ¥è¯¢éœ€è¦çš„æ‰€æœ‰åˆ—ã€‚ Go &copy; 2019 GitHub, Inc. Terms Privacy Security Status Help Contact GitHub Pricing API Training Blog About You canâ€™t perform that action at this time. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session.]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F2019%2F07%2F21%2F2018-04-03-Mysql%2F</url>
    <content type="text"><![CDATA[&lt;!DOCTYPE html&gt; zhangjinmiao.github.io/2018-04-03-Mysql.md at 444c91a5a1049ef043d2321f32c44628b7004182 Â· zhangjinmiao/zhangjinmiao.github.io Skip to content In this repository All GitHub â†µ Jump to â†µ No suggested jump to results In this repository All GitHub â†µ Jump to â†µ In this repository All GitHub â†µ Jump to â†µ Dashboard Pull requests Issues Marketplace Explore LouisTuo Sign out zhangjinmiao / zhangjinmiao.github.io New repository Import repository New gist New organization This repository New issue Signed in as LouisTuo ðŸŽ¯ Focusing Edit status ðŸŽ¯ ðŸŽ¯ Could not update your status, please try again. 80 remaining Suggestions: ðŸŒ´ On vacation ðŸ¤’ Out sick ðŸ  Working from home ðŸŽ¯ Focusing Busy When others mention you, assign you, or request your review, GitHub will let them know that you have limited availability. Clear status Never Never Keep this status until you clear your status or edit your status. in 30 minutes in 1 hour in 4 hours today this week Set status Clear status Your profile Your repositories Your projects Your stars Your gists Help Settings Sign out Watch Notifications Not watching Be notified only when participating or @mentioned. Watch Releases only Be notified of new releases, and when participating or @mentioned. Unwatch releases Watching Be notified of all conversations. Unwatch Ignoring Never be notified. Stop ignoring 1 Unstar 0 Star 0 Fork 0 zhangjinmiao/zhangjinmiao.github.io Code Issues 0 Pull requests 0 Projects 0 Wiki Security Insights Code Issues 0 Pull requests 0 Projects 0 Wiki Security Pulse Community Permalink Tree: 444c91a5a1 Find file Copy path zhangjinmiao.github.io/_posts/mysql/2018-04-03-Mysql.md Find file Copy path zhangjinmiao guifan 444c91a Mar 23, 2019 1 contributor Users who have contributed to this file 68 lines (46 sloc) 2.21 KB Raw Blame History layout title categories description keywords post MySQL å°è®° MySQL mysql mysql, è¡¨è®¾è®¡ 1. InnoDB è¡¨å¦‚ä½•è®¾è®¡ä¸»é”®ç´¢å¼•å»ºè¡¨è¯­å¥ï¼ša è¡¨ï¼šCREATE TABLE &lt;span class=&quot;pl-en&quot;&gt;a&lt;/span&gt; (&lt;/span&gt;id&lt;span class=&quot;pl-pds&quot;&gt; bigint(20) NOT NULL AUTO_INCREMENT,&lt;/span&gt;message_id&lt;span class=&quot;pl-pds&quot;&gt; int(11) NOT NULL,&lt;/span&gt;user_id&lt;span class=&quot;pl-pds&quot;&gt; int(11) NOT NULL,&lt;/span&gt;msg&lt;span class=&quot;pl-pds&quot;&gt; varchar(1024) DEFAULT NULL,&lt;/span&gt;gmt_create&lt;span class=&quot;pl-pds&quot;&gt; datetime NOT NULL,PRIMARY KEY (&lt;/span&gt;id&lt;span class=&quot;pl-pds&quot;&gt;),KEY &lt;/span&gt;user_id&lt;span class=&quot;pl-pds&quot;&gt; (&lt;/span&gt;user_id&lt;span class=&quot;pl-pds&quot;&gt;,&lt;/span&gt;message_id&lt;span class=&quot;pl-pds&quot;&gt;),KEY &lt;/span&gt;idx_gmt_create&lt;span class=&quot;pl-pds&quot;&gt; (&lt;/span&gt;gmt_create&lt;span class=&quot;pl-pds&quot;&gt;)) ENGINE=InnoDB DEFAULT CHARSET=gbk;b è¡¨ï¼šCREATE TABLE &lt;span class=&quot;pl-en&quot;&gt;b&lt;/span&gt; (&lt;/span&gt;user_id&lt;span class=&quot;pl-pds&quot;&gt; int(11) NOT NULL,&lt;/span&gt;message_id&lt;span class=&quot;pl-pds&quot;&gt; int(11) NOT NULL,&lt;/span&gt;msg&lt;span class=&quot;pl-pds&quot;&gt; varchar(1024) DEFAULT NULL,&lt;/span&gt;gmt_create&lt;span class=&quot;pl-pds&quot;&gt; datetime NOT NULL,PRIMARY KEY (&lt;/span&gt;user_id&lt;span class=&quot;pl-pds&quot;&gt;,&lt;/span&gt;message_id&lt;span class=&quot;pl-pds&quot;&gt;),KEY &lt;/span&gt;idx_gmt_create&lt;span class=&quot;pl-pds&quot;&gt; (&lt;/span&gt;gmt_create&lt;span class=&quot;pl-pds&quot;&gt;)) ENGINE=InnoDB DEFAULT CHARSET=gbk;a è¡¨å’Œ b è¡¨åŒºåˆ«ï¼šè®°å½•ç©ºé—´ä¼˜ç‚¹ç¼ºç‚¹é€‚ç”¨åœºæ™¯A è¡¨500 ä¸‡ï¼ˆé¡ºåºï¼‰509 Mä¸»é”® ID è‡ªå¢ž,åœ¨å†™å…¥æ•°æ®çš„å€™ï¼ŒBtree åˆ†è£‚æˆæœ¬ä½Žï¼Œå†™æ€§èƒ½é«˜ç‰©ç†ç©ºé—´ç›¸å¯¹è¾ƒå¤šï¼Œå¦‚æžœæ ¹æ® user_id æ¥æŸ¥è®°å½•ï¼Œéœ€è¦èµ°ä¸¤æ¬¡ IOå†™æ“ä½œè¾ƒå¤šB è¡¨500 ä¸‡ï¼ˆéšæœºï¼‰361 M1.ç‰©ç†ç©ºé—´ç›¸å¯¹å‡å°‘ 2.æ ¹æ® user_id æŸ¥æ•°æ®,ç›´æŽ¥èµ°ä¸»é”®æ‹¿åˆ°æ•°æ®ï¼Œæ— éœ€å›žè¡¨(user_id,message_id)ä¸ºéšæœºå†™å…¥,Btree åˆ†è£‚æˆæœ¬é«˜,å†™æ€§èƒ½ä½Žå†™å°‘è¯»å¤šçš„åœºæ™¯ï¼Œä¾‹å¦‚ä»Žhadoopå›žæµåˆ°MySQLçš„ç»Ÿè®¡ç»“æžœè¡¨ï¼Œè¿™ç§ç»Ÿè®¡ç»“æžœä¸€èˆ¬æ•°æ®è¾ƒå¤šï¼Œä½†ä¸»è¦æ˜¯è¯»2. å­—ç¬¦ä¸²ç´¢å¼•éšå¼è½¬æ¢å­—æ®µç±»åž‹ä¸ºå­—ç¬¦ä¸²ï¼ŒæŸ¥è¯¢æ—¶ä½¿ç”¨ æ•°å€¼åž‹ï¼Œè¯¥å­—æ®µæ‰€åœ¨çš„ç´¢å¼•ä¸ä¼šç”¨åˆ°ã€‚æ•°å­—ç±»åž‹çš„ 0001 ç­‰ä»·äºŽ 1å­—ç¬¦ä¸²çš„ 0001 å’Œ 1 ä¸ç­‰å€¼å½“å­—ç¬¦ä¸²çš„åˆ—æœ‰å¯¹åº”çš„ç´¢å¼•ï¼Œè€Œåœ¨ where æ¡ä»¶é‡Œé¢ä¸æŒ‡å®šä¸ºå­—ç¬¦ä¸²ï¼Œ index æ— æ³•ç¡®è®¤æœ€ç»ˆçš„è®°å½•è¢«éšå¼è½¬æ¢åŽï¼Œä¼šè¿›è¡Œå…¨è¡¨éåŽ†å»ºè¡¨éœ€è¦æ³¨æ„å¯¹åº”å¥½å­—æ®µç±»åž‹â€‹ Go &copy; 2019 GitHub, Inc. Terms Privacy Security Status Help Contact GitHub Pricing API Training Blog About You canâ€™t perform that action at this time. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session.]]></content>
  </entry>
  <entry>
    <title><![CDATA[NodeJs]]></title>
    <url>%2F2018%2F10%2F08%2FNodejs%2F</url>
    <content type="text"><![CDATA[Node.js Node jsæ¨¡å— httpæ¨¡å— æ–­è¨€ â€“ assert äºŒè¿›åˆ¶ï¼Œ File system JS å•çº¿ç¨‹ï¼Œå•è¿› Crypto â€“ç­¾å HTTP/HTTPSHTTP2.0 os Path Eventsäº‹ä»¶]]></content>
      <categories>
        <category>NodeJS</category>
      </categories>
      <tags>
        <tag>NodeJs</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Jsç¬”è®°]]></title>
    <url>%2F2018%2F10%2F07%2FJs%2F</url>
    <content type="text"><![CDATA[jsç¬”è®° thisthisä»£è¡¨å½“å‰å¯¹è±¡ï¼Œä½†æ˜¯åœ¨äº‹ä»¶ä¸­ä»£è¡¨çš„æ˜¯å½“å‰å¯¹è±¡ æŽ’ä»–æ€§ ä½¿ç”¨idæˆ–è€…index 123456789window.onload = function () &#123; var button = document.getElementsByClassName("button"); for(var i = 0; i&lt;button.length;i++)&#123; //å¼‚æ­¥ button[i].id = i; button[i].onclick = function () &#123; alert("ä½ ç‚¹äº†"+this.id+"æŒ‰é’®"); &#125; &#125; &#125; ä½¿ç”¨é—­åŒ… 12345678910window.onload = function () &#123; var button = document.getElementsByClassName("button"); for(var i = 0; i&lt;button.length;i++)&#123; //å¼‚æ­¥ (function (i) &#123; button[i].onclick = function () &#123; alert("ä½ ç‚¹äº†"+i+"æŒ‰é’®"); &#125; &#125;)(i); &#125; &#125; æ•°ç»„é«˜çº§API 1234567891011121314151617181920//1.åˆ¤æ–­æ•°ç»„ç±»åž‹var arr = [1,2,4];console.log(typeof arr); //objectconsole.log(arr instanceof Array); //truevar arr2 = new Array();console.log(Array.isArray(arr2)); //Arrayåˆ¤æ–­æ˜¯å¦æ˜¯æ•°ç»„//2.toString è½¬åŒ–æˆstringï¼Œæ¯ä¸ªç”¨ï¼Œåˆ†å‰²var arr3 = [1,3,"æˆ‘æ˜¯","hello"];console.log(arr3.toString()); //3. valueOf() è¿”å›žæ•°ç»„å¯¹è±¡æœ¬èº«var arr4 = arr.valueOf();console.log(arr4);//4.join() æ–¹æ³•ç”¨äºŽæŠŠæ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ æ”¾å…¥ä¸€ä¸ªå­—ç¬¦ä¸²var arr5 = arr3.join("-");console.log(arr5);//5.indexOf()å’ŒlastIndexOf() å­—ç¬¦ä¸²string]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æµ‹è¯•æ’å…¥å›¾ç‰‡]]></title>
    <url>%2F2018%2F10%2F07%2FTest%2F</url>
    <content type="text"><![CDATA[å¼•å…¥å›¾ç‰‡]]></content>
  </entry>
  <entry>
    <title><![CDATA[Markdownç”¨æ³•]]></title>
    <url>%2F2018%2F10%2F06%2FMarkdown%E7%AC%94%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[Markdownç”¨æ³• ä¸‰çº§æ ‡é¢˜ åºå· åºå· åºå· åºå· ä»£ç å—1console.log("hello world"); 1select * from reportmgr.tbl_day_alarm 1System.out.println("Hello world");]]></content>
      <categories>
        <category>Markdown</category>
      </categories>
      <tags>
        <tag>Markdown</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ES6ç¬”è®°]]></title>
    <url>%2F2018%2F10%2F06%2FES6%2F</url>
    <content type="text"><![CDATA[ES61.å…¼å®¹æ€§ ç¼–è¯‘å’Œè½¬æ¢ï¼š åœ¨çº¿ç¼–è¯‘ æå‰ç¼–è¯‘ 2.ES6è¯­æ³• å˜é‡ å‡½æ•° æ•°ç»„ å­—ç¬¦ä¸² é¢å‘å¯¹è±¡ Promise generator æ¨¡å—åŒ– 3.é€šä¿¡ç›¸å…³12345æ•°æ®äº¤äº’çš„å‡ ç§æ–¹å¼:1. è¡¨å•2. Ajaxï¼Œéº»çƒ¦ï¼Œå®‰å…¨3. JsonPï¼Œç®€å•ï¼Œæœ‰é£Žé™©4. WebSocket ä½†æ˜¯å¯¹äºŽæµè§ˆå™¨æ¥è¯´ï¼ŒåŒºåˆ†ä¸å¼€ï¼Œæ˜¯formï¼Œè¿˜æ˜¯ajaxï¼Œè¿˜æ˜¯jsonP è¡¨å•æäº¤, å±žæ€§action: æäº¤åˆ°å“ªé‡Œmethod: GET,POST,PUT, è‡ªå®šä¹‰name: å¿…é¡»åŠ ï¼Œå¯ä»¥é‡å¤submit æäº¤æŒ‰é’® æ•°æ®æäº¤æ–¹æ³• GET æ•°æ®æ”¾åœ¨URLä¸­ å®¹é‡æœ‰é™ 2. çœ‹å¾—è§ 3.æœ‰ç¼“å­˜ POST æ•°æ®æ”¾åœ¨http-bodyä¸­ å®¹é‡å¾ˆå¤§ 2.çœ‹ä¸è§ 3.ä¸ç¼“å­˜ Ajaxå’Œè¡¨å•æäº¤å¯¹æ¯”ï¼š Ajax ç”¨æˆ·ä½“éªŒå¥½ è¡¨å•æäº¤ ç¨³å®šï¼ˆajaxæ˜¯jsæäº¤ï¼Œè¡¨å•æ˜¯æµè§ˆå™¨æäº¤ï¼‰ Ajaxåˆ°åº•æ€Žä¹ˆå›žäº‹å‘¢ï¼Ÿ123456789101112131415161718192021222324252627282930//-----get------ //1. åˆ›å»ºå¼‚æ­¥å¯¹è±¡ var xhr = new XMLHttpRequest(); //2. è¿žæŽ¥ xhr.open('get','register.acion?usrname=xx',true); //3. å‘é€ xhr.send(); //4. æŽ¥æ”¶ xhr.onreadystatechange = function () &#123; // readyStateé€šä¿¡çŠ¶æ€ //statusï¼ŒhttpçŠ¶æ€ç  if(xhr.readyState==4 &amp;&amp; xhr.status==200)&#123; console.log(xhr.responseText); &#125; &#125;//-------post---------- //åˆ›å»ºå¼‚æ­¥å¯¹è±¡ var xhr = new XMLHttpRequest(); //è®¾ç½®è¯·æ±‚çš„ç±»åž‹åŠurl //postè¯·æ±‚ä¸€å®šè¦æ·»åŠ è¯·æ±‚å¤´æ‰è¡Œä¸ç„¶ä¼šæŠ¥é”™ xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded"); xhr.open('post', '02.post.php' ); //å‘é€è¯·æ±‚ xhr.send('name=fox&amp;age=18'); xhr.onreadystatechange = function () &#123; // è¿™æ­¥ä¸ºåˆ¤æ–­æœåŠ¡å™¨æ˜¯å¦æ­£ç¡®å“åº” if (xhr.readyState == 4 &amp;&amp; xhr.status == 200) &#123; console.log(xhr.responseText); &#125; &#125;; ajaxï¼Œç¼“å­˜ajax è·¨åŸŸ -CORSè·¨åŸŸformData â€“ Ajax2.0 WebSocket httpçŠ¶æ€ç  1xx æ¶ˆæ¯ 2xx æˆåŠŸ 3xx é‡å®šå‘ ï¼ˆ301 æ°¸ä¹…é‡å®šå‘ 302 ä¸´æ—¶é‡å®šå‘ 304ï¼‰ 4xx è¯·æ±‚é”™è¯¯(å®¢æˆ·ç«¯) 5xx æœåŠ¡ç«¯é”™è¯¯ 6xx æ‰©å±• è½¬å‘å’Œé‡å®šå‘ è½¬å‘: åœ¨æœåŠ¡å™¨å†…éƒ¨ï¼Œè½¬äº¤ç»™å¦å¤–ä¸€ä¸ªæœåŠ¡å¤„ç† â€“ åœ°å€ä¸å˜ é‡å®šå‘ï¼šç»™æµè§ˆå™¨ä¸‹å‘½ä»¤ï¼Œè®©æµè§ˆå™¨è¯·æ±‚å¦å¤–ä¸€ä¸ªåœ°å€ â€“åœ°å€å¯å˜ è¿›ç¨‹å’Œçº¿ç¨‹è¿›ç¨‹æ‹¥æœ‰ç‹¬ç«‹çš„æ‰§è¡Œç©ºé—´ã€å­˜å‚¨åŒä¸€ä¸ªè¿›ç¨‹å†…çš„æ‰€æœ‰çº¿ç¨‹å…±äº«ä¸€å¥—ç©ºé—´ã€ä»£ç  å¤šè¿›ç¨‹ æˆæœ¬é«˜ï¼ˆæ…¢ï¼‰ï¼Œå®‰å…¨ï¼ˆè¿›ç¨‹éš”ç¦»ï¼‰ï¼Œè¿›ç¨‹é—´é€šä¿¡éº»çƒ¦ï¼Œå†™ä»£ç ç®€å• å¤šçº¿ç¨‹ æˆæœ¬ä½Žï¼ˆå—ï¼‰ï¼Œä¸å®‰å…¨ï¼ˆè¦æ­»éƒ½æ­»äº†ï¼‰ï¼Œçº¿ç¨‹é—´é€šä¿¡å®¹æ˜“ï¼Œå†™ä»£ç å¤æ‚ å¤šè¿›ç¨‹ æ…¢ï¼Œç®€å•ï¼Œå®‰å…¨ PHPï¼ŒNodeå¤šçº¿ç¨‹ å¿«ï¼Œå¤æ‚ï¼Œè„†å¼± Javaï¼ŒC]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>ES6</tag>
      </tags>
  </entry>
</search>
